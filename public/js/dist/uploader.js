parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"XnY4":[function(require,module,exports) {
var t=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};function r(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}module.exports=function(){function n(o){r(this,n);var a={locale:{strings:{},pluralize:function(t){return 1===t?0:1}}};this.opts=t({},a,o),this.locale=t({},a.locale,o.locale)}return n.prototype.interpolate=function(t,r){var n=String.prototype,o=n.split,a=n.replace,e=/\$/g,i=[t];for(var l in r)if("_"!==l&&r.hasOwnProperty(l)){var s=r[l];"string"==typeof s&&(s=a.call(r[l],e,"$$$$")),i=c(i,new RegExp("%\\{"+l+"\\}","g"),s)}return i;function c(t,r,n){var a=[];return t.forEach(function(t){o.call(t,r).forEach(function(t,r,o){""!==t&&a.push(t),r<o.length-1&&a.push(n)})}),a}},n.prototype.translate=function(t,r){return this.translateArray(t,r).join("")},n.prototype.translateArray=function(t,r){if(r&&void 0!==r.smart_count){var n=this.locale.pluralize(r.smart_count);return this.interpolate(this.opts.locale.strings[t][n],r)}return this.interpolate(this.opts.locale.strings[t],r)},n}();
},{}],"ZwW2":[function(require,module,exports) {
module.exports=function(){var n={},t=n._fns={};return n.emit=function(n,f,e,o,i,r,s){var u=function(n){var f=t[n]?t[n]:[],e=n.indexOf(":"),o=-1===e?[n]:[n.substring(0,e),n.substring(e+1)],i=Object.keys(t),r=0,s=i.length;for(;r<s;r++){var u=i[r];if("*"===u&&(f=f.concat(t[u])),2===o.length&&o[0]===u){f=f.concat(t[u]);break}}return f}(n);u.length&&function(n,t,f){var e=0,o=t.length;for(;e<o&&t[e];e++)t[e].event=n,t[e].apply(t[e],f)}(n,u,[f,e,o,i,r,s])},n.on=function(n,f){t[n]||(t[n]=[]),t[n].push(f)},n.once=function(t,f){this.on(t,function e(){f.apply(this,arguments),n.off(t,e)})},n.off=function(n,t){var f=[];if(n&&t)for(var e=this._fns[n],o=0,i=e?e.length:0;o<i;o++)e[o]!==t&&f.push(e[o]);f.length?this._fns[n]=f:delete this._fns[n]},n};
},{}],"8AQz":[function(require,module,exports) {
module.exports=function(r,t){var e="000000000"+r;return e.substr(e.length-t)};
},{}],"MjR9":[function(require,module,exports) {
var e=require("./pad.js"),t="object"==typeof window?window:self,n=Object.keys(t).length,o=navigator.mimeTypes?navigator.mimeTypes.length:0,r=e((o+navigator.userAgent.length).toString(36)+n.toString(36),4);module.exports=function(){return r};
},{"./pad.js":"8AQz"}],"fUGK":[function(require,module,exports) {
var t=require("./lib/fingerprint.js"),r=require("./lib/pad.js"),n=0,i=4,e=36,u=Math.pow(e,i);function o(){return r((Math.random()*u<<0).toString(e),i)}function s(){return n=n<u?n:0,++n-1}function g(){return"c"+(new Date).getTime().toString(e)+r(s().toString(e),i)+t()+(o()+o())}g.slug=function(){var r=(new Date).getTime().toString(36),n=s().toString(36).slice(-4),i=t().slice(0,1)+t().slice(-1),e=o().slice(-2);return r.slice(-2)+n+i+e},g.isCuid=function(t){return"string"==typeof t&&!!t.startsWith("c")},g.isSlug=function(t){if("string"!=typeof t)return!1;var r=t.length;return r>=7&&r<=10},g.fingerprint=t,module.exports=g;
},{"./lib/fingerprint.js":"MjR9","./lib/pad.js":"8AQz"}],"nokW":[function(require,module,exports) {
function e(e){if("number"!=typeof e||isNaN(e))throw new TypeError("Expected a number, got "+typeof e);var t=e<0,r=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(t&&(e=-e),e<1)return(t?"-":"")+e+" B";var o=Math.min(Math.floor(Math.log(e)/Math.log(1e3)),r.length-1);e=Number(e/Math.pow(1e3,o));var a=r[o];return e>=10||e%1==0?(t?"-":"")+e.toFixed(0)+" "+a:(t?"-":"")+e.toFixed(1)+" "+a}module.exports=e;
},{}],"eX1g":[function(require,module,exports) {
"use strict";function t(t,i){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=i,this.parts=t.split(i)}t.prototype.match=function(t){var i,e,s=!0,n=this.parts,r=n.length;if("string"==typeof t||t instanceof String)if(this.hasWild||this.text==t){for(e=(t||"").split(this.separator),i=0;s&&i<r;i++)"*"!==n[i]&&(s=i<e.length&&n[i]===e[i]);s=s&&e}else s=!1;else if("function"==typeof t.splice)for(s=[],i=t.length;i--;)this.match(t[i])&&(s[s.length]=t[i]);else if("object"==typeof t)for(var h in s={},t)this.match(h)&&(s[h]=t[h]);return s},module.exports=function(i,e,s){var n=new t(i,s||/[\/\.]/);return void 0!==e?n.match(e):n};
},{}],"QCFS":[function(require,module,exports) {
var r=require("wildcard"),e=/[\/\+\.]/;module.exports=function(n,t){function u(t){var u=r(t,n,e);return u&&u.length>=2}return t?u(t.split(";")[0]):u};
},{"wildcard":"eX1g"}],"Mya8":[function(require,module,exports) {
var t=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t};function n(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var a=function(){function a(){n(this,a),this.state={},this.callbacks=[]}return a.prototype.getState=function(){return this.state},a.prototype.setState=function(n){var a=t({},this.state),r=t({},this.state,n);this.state=r,this._publish(a,r,n)},a.prototype.subscribe=function(t){var n=this;return this.callbacks.push(t),function(){n.callbacks.splice(n.callbacks.indexOf(t),1)}},a.prototype._publish=function(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];this.callbacks.forEach(function(t){t.apply(void 0,n)})},a}();module.exports=function(){return new a};
},{}],"zjWf":[function(require,module,exports) {
module.exports=function(e){var n=/(?:\.([^.]+))?$/.exec(e)[1];return{name:e.replace("."+n,""),extension:n}};
},{}],"sXwn":[function(require,module,exports) {
module.exports={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",gif:"image/gif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel"};
},{}],"flEf":[function(require,module,exports) {
var e=require("./getFileNameAndExtension"),t=require("./mimeTypes");module.exports=function(n){var i=n.name?e(n.name).extension:null;return n.isRemote?n.type?n.type:t[i]:n.type?n.type:i&&t[i]?t[i]:"application/octet-stream"};
},{"./getFileNameAndExtension":"zjWf","./mimeTypes":"sXwn"}],"QqDy":[function(require,module,exports) {
module.exports=function(e){return["uppy",e.name?e.name.toLowerCase().replace(/[^A-Z0-9]/gi,""):"",e.type,e.data.size,e.data.lastModified].filter(function(e){return e}).join("-")};
},{}],"v3cx":[function(require,module,exports) {
module.exports=function(e){return 0===e.indexOf("blob:")};
},{}],"RLAd":[function(require,module,exports) {
function t(t){return 2!==t.length?0+t:t}module.exports=function(){var n=new Date;return t(n.getHours().toString())+":"+t(n.getMinutes().toString())+":"+t(n.getSeconds().toString())};
},{}],"BkKT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createElement=exports.h=r,exports.cloneElement=a,exports.Component=A,exports.render=H,exports.rerender=u,exports.options=exports.default=void 0;var e=function(){},t={};exports.options=t;var n=[],o=[];function r(r,i){var l,a,s,p,c=o;for(p=arguments.length;p-- >2;)n.push(arguments[p]);for(i&&null!=i.children&&(n.length||n.push(i.children),delete i.children);n.length;)if((a=n.pop())&&void 0!==a.pop)for(p=a.length;p--;)n.push(a[p]);else"boolean"==typeof a&&(a=null),(s="function"!=typeof r)&&(null==a?a="":"number"==typeof a?a=String(a):"string"!=typeof a&&(s=!1)),s&&l?c[c.length-1]+=a:c===o?c=[a]:c.push(a),l=s;var u=new e;return u.nodeName=r,u.children=c,u.attributes=null==i?void 0:i,u.key=null==i?void 0:i.key,void 0!==t.vnode&&t.vnode(u),u}function i(e,t){for(var n in t)e[n]=t[n];return e}var l="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function a(e,t){return r(e.nodeName,i(i({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}var s=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,p=[];function c(e){!e._dirty&&(e._dirty=!0)&&1==p.push(e)&&(t.debounceRendering||l)(u)}function u(){var e,t=p;for(p=[];e=t.pop();)e._dirty&&W(e)}function d(e,t,n){return"string"==typeof t||"number"==typeof t?void 0!==e.splitText:"string"==typeof t.nodeName?!e._componentConstructor&&f(e,t.nodeName):n||e._componentConstructor===t.nodeName}function f(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function v(e){var t=i({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var o in n)void 0===t[o]&&(t[o]=n[o]);return t}function _(e,t){var n=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n.normalizedNodeName=e,n}function m(e){var t=e.parentNode;t&&t.removeChild(e)}function h(e,t,n,o,r){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),o&&o(e);else if("class"!==t||r)if("style"===t){if(o&&"string"!=typeof o&&"string"!=typeof n||(e.style.cssText=o||""),o&&"object"==typeof o){if("string"!=typeof n)for(var i in n)i in o||(e.style[i]="");for(var i in o)e.style[i]="number"==typeof o[i]&&!1===s.test(i)?o[i]+"px":o[i]}}else if("dangerouslySetInnerHTML"===t)o&&(e.innerHTML=o.__html||"");else if("o"==t[0]&&"n"==t[1]){var l=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),o?n||e.addEventListener(t,y,l):e.removeEventListener(t,y,l),(e._listeners||(e._listeners={}))[t]=o}else if("list"!==t&&"type"!==t&&!r&&t in e){try{e[t]=null==o?"":o}catch(p){}null!=o&&!1!==o||"spellcheck"==t||e.removeAttribute(t)}else{var a=r&&t!==(t=t.replace(/^xlink:?/,""));null==o||!1===o?a?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof o&&(a?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),o):e.setAttribute(t,o))}else e.className=o||""}function y(e){return this._listeners[e.type](t.event&&t.event(e)||e)}var b=[],x=0,g=!1,C=!1;function N(){for(var e;e=b.pop();)t.afterMount&&t.afterMount(e),e.componentDidMount&&e.componentDidMount()}function w(e,t,n,o,r,i){x++||(g=null!=r&&void 0!==r.ownerSVGElement,C=null!=e&&!("__preactattr_"in e));var l=k(e,t,n,o,i);return r&&l.parentNode!==r&&r.appendChild(l),--x||(C=!1,i||N()),l}function k(e,t,n,o,r){var i=e,l=g;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||r)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),U(e,!0))),i.__preactattr_=!0,i;var a=t.nodeName;if("function"==typeof a)return D(e,t,n,o);if(g="svg"===a||"foreignObject"!==a&&g,a=String(a),(!e||!f(e,a))&&(i=_(a,g),e)){for(;e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),U(e,!0)}var s=i.firstChild,p=i.__preactattr_,c=t.children;if(null==p){p=i.__preactattr_={};for(var u=i.attributes,d=u.length;d--;)p[u[d].name]=u[d].value}return!C&&c&&1===c.length&&"string"==typeof c[0]&&null!=s&&void 0!==s.splitText&&null==s.nextSibling?s.nodeValue!=c[0]&&(s.nodeValue=c[0]):(c&&c.length||null!=s)&&S(i,c,n,o,C||null!=p.dangerouslySetInnerHTML),B(i,t.attributes,p),g=l,i}function S(e,t,n,o,r){var i,l,a,s,p,c=e.childNodes,u=[],f={},v=0,_=0,h=c.length,y=0,b=t?t.length:0;if(0!==h)for(var x=0;x<h;x++){var g=c[x],C=g.__preactattr_;null!=(N=b&&C?g._component?g._component.__key:C.key:null)?(v++,f[N]=g):(C||(void 0!==g.splitText?!r||g.nodeValue.trim():r))&&(u[y++]=g)}if(0!==b)for(x=0;x<b;x++){var N;if(p=null,null!=(N=(s=t[x]).key))v&&void 0!==f[N]&&(p=f[N],f[N]=void 0,v--);else if(_<y)for(i=_;i<y;i++)if(void 0!==u[i]&&d(l=u[i],s,r)){p=l,u[i]=void 0,i===y-1&&y--,i===_&&_++;break}p=k(p,s,n,o),a=c[x],p&&p!==e&&p!==a&&(null==a?e.appendChild(p):p===a.nextSibling?m(a):e.insertBefore(p,a))}if(v)for(var x in f)void 0!==f[x]&&U(f[x],!1);for(;_<=y;)void 0!==(p=u[y--])&&U(p,!1)}function U(e,t){var n=e._component;n?V(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||m(e),P(e))}function P(e){for(e=e.lastChild;e;){var t=e.previousSibling;U(e,!0),e=t}}function B(e,t,n){var o;for(o in n)t&&null!=t[o]||null==n[o]||h(e,o,n[o],n[o]=void 0,g);for(o in t)"children"===o||"innerHTML"===o||o in n&&t[o]===("value"===o||"checked"===o?e[o]:n[o])||h(e,o,n[o],n[o]=t[o],g)}var L=[];function M(e,t,n){var o,r=L.length;for(e.prototype&&e.prototype.render?(o=new e(t,n),A.call(o,t,n)):((o=new A(t,n)).constructor=e,o.render=T);r--;)if(L[r].constructor===e)return o.nextBase=L[r].nextBase,L.splice(r,1),o;return o}function T(e,t,n){return this.constructor(e,n)}function E(e,n,o,r,i){e._disable||(e._disable=!0,e.__ref=n.ref,e.__key=n.key,delete n.ref,delete n.key,void 0===e.constructor.getDerivedStateFromProps&&(!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r)),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=n,e._disable=!1,0!==o&&(1!==o&&!1===t.syncComponentUpdates&&e.base?c(e):W(e,1,i)),e.__ref&&e.__ref(e))}function W(e,n,o,r){if(!e._disable){var l,a,s,p=e.props,c=e.state,u=e.context,d=e.prevProps||p,f=e.prevState||c,_=e.prevContext||u,m=e.base,h=e.nextBase,y=m||h,g=e._component,C=!1,k=_;if(e.constructor.getDerivedStateFromProps&&(c=i(i({},c),e.constructor.getDerivedStateFromProps(p,c)),e.state=c),m&&(e.props=d,e.state=f,e.context=_,2!==n&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(p,c,u)?C=!0:e.componentWillUpdate&&e.componentWillUpdate(p,c,u),e.props=p,e.state=c,e.context=u),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!C){l=e.render(p,c,u),e.getChildContext&&(u=i(i({},u),e.getChildContext())),m&&e.getSnapshotBeforeUpdate&&(k=e.getSnapshotBeforeUpdate(d,f));var S,P,B=l&&l.nodeName;if("function"==typeof B){var L=v(l);(a=g)&&a.constructor===B&&L.key==a.__key?E(a,L,1,u,!1):(S=a,e._component=a=M(B,L,u),a.nextBase=a.nextBase||h,a._parentComponent=e,E(a,L,0,u,!1),W(a,1,o,!0)),P=a.base}else s=y,(S=g)&&(s=e._component=null),(y||1===n)&&(s&&(s._component=null),P=w(s,l,u,o||!m,y&&y.parentNode,!0));if(y&&P!==y&&a!==g){var T=y.parentNode;T&&P!==T&&(T.replaceChild(P,y),S||(y._component=null,U(y,!1)))}if(S&&V(S),e.base=P,P&&!r){for(var D=e,A=e;A=A._parentComponent;)(D=A).base=P;P._component=D,P._componentConstructor=D.constructor}}for(!m||o?b.unshift(e):C||(e.componentDidUpdate&&e.componentDidUpdate(d,f,k),t.afterUpdate&&t.afterUpdate(e));e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);x||r||N()}}function D(e,t,n,o){for(var r=e&&e._component,i=r,l=e,a=r&&e._componentConstructor===t.nodeName,s=a,p=v(t);r&&!s&&(r=r._parentComponent);)s=r.constructor===t.nodeName;return r&&s&&(!o||r._component)?(E(r,p,3,n,o),e=r.base):(i&&!a&&(V(i),e=l=null),r=M(t.nodeName,p,n),e&&!r.nextBase&&(r.nextBase=e,l=null),E(r,p,1,n,o),e=r.base,l&&e!==l&&(l._component=null,U(l,!1))),e}function V(e){t.beforeUnmount&&t.beforeUnmount(e);var n=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var o=e._component;o?V(o):n&&(n.__preactattr_&&n.__preactattr_.ref&&n.__preactattr_.ref(null),e.nextBase=n,m(n),L.push(e),P(n)),e.__ref&&e.__ref(null)}function A(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{},this._renderCallbacks=[]}function H(e,t,n){return w(n,e,{},!1,t,!1)}i(A.prototype,{setState:function(e,t){this.prevState||(this.prevState=this.state),this.state=i(i({},this.state),"function"==typeof e?e(this.state,this.props):e),t&&this._renderCallbacks.push(t),c(this)},forceUpdate:function(e){e&&this._renderCallbacks.push(e),W(this,2)},render:function(){}});var j={h:r,createElement:r,cloneElement:a,Component:A,render:H,rerender:u,options:t},z=j;exports.default=z;
},{}],"2Hy4":[function(require,module,exports) {
var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};module.exports=function(t){return t&&"object"===(void 0===t?"undefined":o(t))&&t.nodeType===Node.ELEMENT_NODE};
},{}],"9rJ7":[function(require,module,exports) {
var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},t=require("./isDOMElement");module.exports=function(e){return"string"==typeof e?document.querySelector(e):"object"===(void 0===e?"undefined":o(e))&&t(e)?e:void 0};
},{"./isDOMElement":"2Hy4"}],"Y9AE":[function(require,module,exports) {
var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=require("preact"),o=require("@uppy/utils/lib/findDOMElement");function r(t){var e=null,n=null;return function(){for(var i=arguments.length,o=Array(i),r=0;r<i;r++)o[r]=arguments[r];return n=o,e||(e=Promise.resolve().then(function(){return e=null,t.apply(void 0,n)})),e}}module.exports=function(){function s(t,e){n(this,s),this.uppy=t,this.opts=e||{},this.update=this.update.bind(this),this.mount=this.mount.bind(this),this.install=this.install.bind(this),this.uninstall=this.uninstall.bind(this)}return s.prototype.getPluginState=function(){return this.uppy.getState().plugins[this.id]||{}},s.prototype.setPluginState=function(t){var n,i=this.uppy.getState().plugins;this.uppy.setState({plugins:e({},i,(n={},n[this.id]=e({},i[this.id],t),n))})},s.prototype.update=function(t){void 0!==this.el&&this._updateUI&&this._updateUI(t)},s.prototype.onMount=function(){},s.prototype.mount=function(e,n){var u=this,a=n.id,p=o(e);if(p)return this.isTargetDOMEl=!0,this.rerender=function(t){u.uppy.getPlugin(u.id)&&(u.el=i.render(u.render(t),p,u.el))},this._updateUI=r(this.rerender),this.uppy.log("Installing "+a+" to a DOM element"),this.opts.replaceTargetContent&&(p.innerHTML=""),this.el=i.render(this.render(this.uppy.getState()),p),this.onMount(),this.el;var l=void 0;if("object"===(void 0===e?"undefined":t(e))&&e instanceof s)l=e;else if("function"==typeof e){var h=e;this.uppy.iteratePlugins(function(t){if(t instanceof h)return l=t,!1})}if(l)return this.uppy.log("Installing "+a+" to "+l.id),this.parent=l,this.el=l.addTarget(n),this.onMount(),this.el;throw this.uppy.log("Not installing "+a),new Error("Invalid target option given to "+a+". Please make sure that the element \n      exists on the page, or that the plugin you are targeting has been installed. Check that the <script> tag initializing Uppy \n      comes at the bottom of the page, before the closing </body> tag (see https://github.com/transloadit/uppy/issues/1042).")},s.prototype.render=function(t){throw new Error("Extend the render method to add your plugin to a DOM element")},s.prototype.addTarget=function(t){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")},s.prototype.unmount=function(){this.isTargetDOMEl&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},s.prototype.install=function(){},s.prototype.uninstall=function(){this.unmount()},s}();
},{"preact":"BkKT","@uppy/utils/lib/findDOMElement":"9rJ7"}],"Fa4j":[function(require,module,exports) {
var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},i=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=require("@uppy/utils/lib/Translator"),r=require("namespace-emitter"),n=require("cuid"),a=require("prettier-bytes"),l=require("mime-match"),u=require("@uppy/store-default"),p=require("@uppy/utils/lib/getFileType"),d=require("@uppy/utils/lib/getFileNameAndExtension"),h=require("@uppy/utils/lib/generateFileID"),c=require("@uppy/utils/lib/isObjectURL"),f=require("@uppy/utils/lib/getTimeStamp"),g=require("./Plugin"),m=function(){function g(e){var i=this;s(this,g);var n={strings:{youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"This file exceeds maximum allowed size of",youCanOnlyUploadFileTypes:"You can only upload:",companionError:"Connection with Companion failed",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectXFiles:{0:"Select %{smart_count} file",1:"Select %{smart_count} files"},cancel:"Cancel",logOut:"Log out"}},a={id:"uppy",autoProceed:!1,debug:!1,restrictions:{maxFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null},meta:{},onBeforeFileAdded:function(e,t){return e},onBeforeUpload:function(e){return e},locale:n,store:u()};this.opts=t({},a,e),this.opts.restrictions=t({},a.restrictions,this.opts.restrictions),this.locale=t({},n,this.opts.locale),this.locale.strings=t({},n.strings,this.opts.locale.strings),this.translator=new o({locale:this.locale}),this.i18n=this.translator.translate.bind(this.translator),this.plugins={},this.getState=this.getState.bind(this),this.getPlugin=this.getPlugin.bind(this),this.setFileMeta=this.setFileMeta.bind(this),this.setFileState=this.setFileState.bind(this),this.log=this.log.bind(this),this.info=this.info.bind(this),this.hideInfo=this.hideInfo.bind(this),this.addFile=this.addFile.bind(this),this.removeFile=this.removeFile.bind(this),this.pauseResume=this.pauseResume.bind(this),this._calculateProgress=this._calculateProgress.bind(this),this.updateOnlineStatus=this.updateOnlineStatus.bind(this),this.resetProgress=this.resetProgress.bind(this),this.pauseAll=this.pauseAll.bind(this),this.resumeAll=this.resumeAll.bind(this),this.retryAll=this.retryAll.bind(this),this.cancelAll=this.cancelAll.bind(this),this.retryUpload=this.retryUpload.bind(this),this.upload=this.upload.bind(this),this.emitter=r(),this.on=this.on.bind(this),this.off=this.off.bind(this),this.once=this.emitter.once.bind(this.emitter),this.emit=this.emitter.emit.bind(this.emitter),this.preProcessors=[],this.uploaders=[],this.postProcessors=[],this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},capabilities:{resumableUploads:!1},totalProgress:0,meta:t({},this.opts.meta),info:{isHidden:!0,type:"info",message:""}}),this._storeUnsubscribe=this.store.subscribe(function(e,t,s){i.emit("state-update",e,t,s),i.updateAll(t)}),this.opts.debug&&"undefined"!=typeof window&&(window.uppyLog="",window[this.opts.id]=this),this._addListeners()}return g.prototype.on=function(e,t){return this.emitter.on(e,t),this},g.prototype.off=function(e,t){return this.emitter.off(e,t),this},g.prototype.updateAll=function(e){this.iteratePlugins(function(t){t.update(e)})},g.prototype.setState=function(e){this.store.setState(e)},g.prototype.getState=function(){return this.store.getState()},g.prototype.setFileState=function(e,i){var s;if(!this.getState().files[e])throw new Error("Can’t set state for "+e+" (the file could have been removed)");this.setState({files:t({},this.getState().files,(s={},s[e]=t({},this.getState().files[e],i),s))})},g.prototype.resetProgress=function(){var e={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:!1},i=t({},this.getState().files),s={};Object.keys(i).forEach(function(o){var r=t({},i[o]);r.progress=t({},r.progress,e),s[o]=r}),this.setState({files:s,totalProgress:0}),this.emit("reset-progress")},g.prototype.addPreProcessor=function(e){this.preProcessors.push(e)},g.prototype.removePreProcessor=function(e){var t=this.preProcessors.indexOf(e);-1!==t&&this.preProcessors.splice(t,1)},g.prototype.addPostProcessor=function(e){this.postProcessors.push(e)},g.prototype.removePostProcessor=function(e){var t=this.postProcessors.indexOf(e);-1!==t&&this.postProcessors.splice(t,1)},g.prototype.addUploader=function(e){this.uploaders.push(e)},g.prototype.removeUploader=function(e){var t=this.uploaders.indexOf(e);-1!==t&&this.uploaders.splice(t,1)},g.prototype.setMeta=function(e){var i=t({},this.getState().meta,e),s=t({},this.getState().files);Object.keys(s).forEach(function(i){s[i]=t({},s[i],{meta:t({},s[i].meta,e)})}),this.log("Adding metadata:"),this.log(e),this.setState({meta:i,files:s})},g.prototype.setFileMeta=function(e,i){var s=t({},this.getState().files);if(s[e]){var o=t({},s[e].meta,i);s[e]=t({},s[e],{meta:o}),this.setState({files:s})}else this.log("Was trying to set metadata for a file that’s not with us anymore: ",e)},g.prototype.getFile=function(e){return this.getState().files[e]},g.prototype.getFiles=function(){var e=this.getState().files;return Object.keys(e).map(function(t){return e[t]})},g.prototype._checkMinNumberOfFiles=function(e){var t=this.opts.restrictions.minNumberOfFiles;if(Object.keys(e).length<t)throw new Error(""+this.i18n("youHaveToAtLeastSelectX",{smart_count:t}))},g.prototype._checkRestrictions=function(e){var t=this.opts.restrictions,i=t.maxFileSize,s=t.maxNumberOfFiles,o=t.allowedFileTypes;if(s&&Object.keys(this.getState().files).length+1>s)throw new Error(""+this.i18n("youCanOnlyUploadX",{smart_count:s}));if(o&&!(o.filter(function(t){return t.indexOf("/")>-1?!!e.type&&l(e.type,t):"."===t[0]&&e.extension===t.substr(1)?e.extension:void 0}).length>0)){var r=o.join(", ");throw new Error(this.i18n("youCanOnlyUploadFileTypes")+" "+r)}if(i&&e.data.size>i)throw new Error(this.i18n("exceedsSize")+" "+a(i))},g.prototype.addFile=function(i){var s,o=this,r=this.getState().files,n=this.opts.onBeforeFileAdded(i,r);if(!1!==n){if("object"===(void 0===n?"undefined":e(n))&&n){if(n.then)throw new TypeError("onBeforeFileAdded() returned a Promise, but this is no longer supported. It must be synchronous.");i=n}var a=p(i),l=void 0;l=i.name?i.name:"image"===a.split("/")[0]?a.split("/")[0]+"."+a.split("/")[1]:"noname";var u=d(l).extension,c=i.isRemote||!1,f=h(i),g=i.meta||{};g.name=l,g.type=a;var m={source:i.source||"",id:f,name:l,extension:u||"",meta:t({},this.getState().meta,g),type:a,data:i.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:i.data.size||0,uploadComplete:!1,uploadStarted:!1},size:i.data.size||0,isRemote:c,remote:i.remote||"",preview:i.preview};try{this._checkRestrictions(m)}catch(y){!function(t){var i="object"===(void 0===t?"undefined":e(t))?t:new Error(t);throw o.log(i.message),o.info(i.message,"error",5e3),i}(y)}this.setState({files:t({},r,(s={},s[f]=m,s))}),this.emit("file-added",m),this.log("Added file: "+l+", "+f+", mime type: "+a),this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(function(){o.scheduledAutoProceed=null,o.upload().catch(function(e){console.error(e.stack||e.message||e)})},4))}else this.log("Not adding file because onBeforeFileAdded returned false")},g.prototype.removeFile=function(e){var i=this,s=this.getState(),o=s.files,r=s.currentUploads,n=t({},o),a=n[e];delete n[e];var l=t({},r),u=[];Object.keys(l).forEach(function(i){var s=r[i].fileIDs.filter(function(t){return t!==e});0!==s.length?l[i]=t({},r[i],{fileIDs:s}):u.push(i)}),this.setState({currentUploads:l,files:n}),u.forEach(function(e){i._removeUpload(e)}),this._calculateTotalProgress(),this.emit("file-removed",a),this.log("File removed: "+a.id),a.preview&&c(a.preview)&&URL.revokeObjectURL(a.preview)},g.prototype.pauseResume=function(e){if(!this.getFile(e).uploadComplete){var t=!(this.getFile(e).isPaused||!1);return this.setFileState(e,{isPaused:t}),this.emit("upload-pause",e,t),t}},g.prototype.pauseAll=function(){var e=t({},this.getState().files);Object.keys(e).filter(function(t){return!e[t].progress.uploadComplete&&e[t].progress.uploadStarted}).forEach(function(i){var s=t({},e[i],{isPaused:!0});e[i]=s}),this.setState({files:e}),this.emit("pause-all")},g.prototype.resumeAll=function(){var e=t({},this.getState().files);Object.keys(e).filter(function(t){return!e[t].progress.uploadComplete&&e[t].progress.uploadStarted}).forEach(function(i){var s=t({},e[i],{isPaused:!1,error:null});e[i]=s}),this.setState({files:e}),this.emit("resume-all")},g.prototype.retryAll=function(){var e=t({},this.getState().files),i=Object.keys(e).filter(function(t){return e[t].error});i.forEach(function(i){var s=t({},e[i],{isPaused:!1,error:null});e[i]=s}),this.setState({files:e,error:null}),this.emit("retry-all",i);var s=this._createUpload(i);return this._runUpload(s)},g.prototype.cancelAll=function(){var e=this;this.emit("cancel-all"),Object.keys(this.getState().files).forEach(function(t){e.removeFile(t)}),this.setState({totalProgress:0,error:null})},g.prototype.retryUpload=function(e){var i=t({},this.getState().files),s=t({},i[e],{error:null,isPaused:!1});i[e]=s,this.setState({files:i}),this.emit("upload-retry",e);var o=this._createUpload([e]);return this._runUpload(o)},g.prototype.reset=function(){this.cancelAll()},g.prototype._calculateProgress=function(e,i){this.getFile(e.id)?(this.setFileState(e.id,{progress:t({},this.getFile(e.id).progress,{bytesUploaded:i.bytesUploaded,bytesTotal:i.bytesTotal,percentage:Math.floor((i.bytesUploaded/i.bytesTotal*100).toFixed(2))})}),this._calculateTotalProgress()):this.log("Not setting progress for a file that has been removed: "+e.id)},g.prototype._calculateTotalProgress=function(){var e=t({},this.getState().files),i=Object.keys(e).filter(function(t){return e[t].progress.uploadStarted}),s=100*i.length,o=0;i.forEach(function(t){o+=e[t].progress.percentage});var r=0===s?0:Math.floor((100*o/s).toFixed(2));this.setState({totalProgress:r})},g.prototype._addListeners=function(){var i=this;this.on("error",function(e){i.setState({error:e.message})}),this.on("upload-error",function(t,s){i.setFileState(t.id,{error:s.message}),i.setState({error:s.message});var o=i.i18n("failedToUpload",{file:t.name});"object"===(void 0===s?"undefined":e(s))&&s.message&&(o={message:o,details:s.message}),i.info(o,"error",5e3)}),this.on("upload",function(){i.setState({error:null})}),this.on("upload-started",function(e,t){i.getFile(e.id)?i.setFileState(e.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:e.size}}):i.log("Not setting progress for a file that has been removed: "+e.id)}),this.on("upload-progress",this._calculateProgress),this.on("upload-success",function(e,s,o){var r=i.getFile(e.id).progress;i.setFileState(e.id,{progress:t({},r,{uploadComplete:!0,percentage:100,bytesUploaded:r.bytesTotal}),uploadURL:o,isPaused:!1}),i._calculateTotalProgress()}),this.on("preprocess-progress",function(e,s){i.getFile(e.id)?i.setFileState(e.id,{progress:t({},i.getFile(e.id).progress,{preprocess:s})}):i.log("Not setting progress for a file that has been removed: "+e.id)}),this.on("preprocess-complete",function(e){if(i.getFile(e.id)){var s=t({},i.getState().files);s[e.id]=t({},s[e.id],{progress:t({},s[e.id].progress)}),delete s[e.id].progress.preprocess,i.setState({files:s})}else i.log("Not setting progress for a file that has been removed: "+e.id)}),this.on("postprocess-progress",function(e,s){i.getFile(e.id)?i.setFileState(e.id,{progress:t({},i.getState().files[e.id].progress,{postprocess:s})}):i.log("Not setting progress for a file that has been removed: "+e.id)}),this.on("postprocess-complete",function(e){if(i.getFile(e.id)){var s=t({},i.getState().files);s[e.id]=t({},s[e.id],{progress:t({},s[e.id].progress)}),delete s[e.id].progress.postprocess,i.setState({files:s})}else i.log("Not setting progress for a file that has been removed: "+e.id)}),this.on("restored",function(){i._calculateTotalProgress()}),"undefined"!=typeof window&&window.addEventListener&&(window.addEventListener("online",function(){return i.updateOnlineStatus()}),window.addEventListener("offline",function(){return i.updateOnlineStatus()}),setTimeout(function(){return i.updateOnlineStatus()},3e3))},g.prototype.updateOnlineStatus=function(){void 0===window.navigator.onLine||window.navigator.onLine?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)},g.prototype.getID=function(){return this.opts.id},g.prototype.use=function(t,i){if("function"!=typeof t){var s="Expected a plugin class, but got "+(null===t?"null":void 0===t?"undefined":e(t))+". Please verify that the plugin was imported and spelled correctly.";throw new TypeError(s)}var o=new t(this,i),r=o.id;if(this.plugins[o.type]=this.plugins[o.type]||[],!r)throw new Error("Your plugin must have an id");if(!o.type)throw new Error("Your plugin must have a type");var n=this.getPlugin(r);if(n){var a="Already found a plugin named '"+n.id+"'. Tried to use: '"+r+"'.\nUppy plugins must have unique 'id' options. See https://uppy.io/docs/plugins/#id.";throw new Error(a)}return this.plugins[o.type].push(o),o.install(),this},g.prototype.getPlugin=function(e){var t=null;return this.iteratePlugins(function(i){if(i.id===e)return t=i,!1}),t},g.prototype.iteratePlugins=function(e){var t=this;Object.keys(this.plugins).forEach(function(i){t.plugins[i].forEach(e)})},g.prototype.removePlugin=function(e){this.log("Removing plugin "+e.id),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();var t=this.plugins[e.type].slice(),i=t.indexOf(e);-1!==i&&(t.splice(i,1),this.plugins[e.type]=t);var s=this.getState();delete s.plugins[e.id],this.setState(s)},g.prototype.close=function(){var e=this;this.log("Closing Uppy instance "+this.opts.id+": removing all files and uninstalling plugins"),this.reset(),this._storeUnsubscribe(),this.iteratePlugins(function(t){e.removePlugin(t)})},g.prototype.info=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,o="object"===(void 0===t?"undefined":e(t));this.setState({info:{isHidden:!1,type:i,message:o?t.message:t,details:o?t.details:null}}),this.emit("info-visible"),clearTimeout(this.infoTimeoutID),this.infoTimeoutID=0!==s?setTimeout(this.hideInfo,s):void 0},g.prototype.hideInfo=function(){var e=t({},this.getState().info,{isHidden:!0});this.setState({info:e}),this.emit("info-hidden")},g.prototype.log=function(e,t){if(this.opts.debug){var i="[Uppy] ["+f()+"] "+e;window.uppyLog=window.uppyLog+"\nDEBUG LOG: "+e,"error"!==t?"warning"!==t?e===""+e?console.log(i):(i="[Uppy] ["+f()+"]",console.log(i),console.dir(e)):console.warn(i):console.error(i)}},g.prototype.run=function(){return this.log("Calling run() is no longer necessary.","warning"),this},g.prototype.restore=function(e){return this.log('Core: attempting to restore upload "'+e+'"'),this.getState().currentUploads[e]?this._runUpload(e):(this._removeUpload(e),Promise.reject(new Error("Nonexistent upload")))},g.prototype._createUpload=function(e){var i,s=n();return this.emit("upload",{id:s,fileIDs:e}),this.setState({currentUploads:t({},this.getState().currentUploads,(i={},i[s]={fileIDs:e,step:0,result:{}},i))}),s},g.prototype._getUpload=function(e){return this.getState().currentUploads[e]},g.prototype.addResultData=function(e,i){var s;if(this._getUpload(e)){var o=this.getState().currentUploads,r=t({},o[e],{result:t({},o[e].result,i)});this.setState({currentUploads:t({},o,(s={},s[e]=r,s))})}else this.log("Not setting result for an upload that has been removed: "+e)},g.prototype._removeUpload=function(e){var i=t({},this.getState().currentUploads);delete i[e],this.setState({currentUploads:i})},g.prototype._runUpload=function(e){var i=this,s=this.getState().currentUploads[e],o=s.fileIDs,r=s.step,n=[].concat(this.preProcessors,this.uploaders,this.postProcessors),a=Promise.resolve();return n.forEach(function(s,n){n<r||(a=a.then(function(){var r,a=i.getState().currentUploads,l=t({},a[e],{step:n});return i.setState({currentUploads:t({},a,(r={},r[e]=l,r))}),s(o,e)}).then(function(e){return null}))}),a.catch(function(t){i.emit("error",t,e),i._removeUpload(e)}),a.then(function(){var t=o.map(function(e){return i.getFile(e)}),s=t.filter(function(e){return e&&!e.error}),r=t.filter(function(e){return e&&e.error});i.addResultData(e,{successful:s,failed:r,uploadID:e});var n=i.getState().currentUploads;if(n[e]){var a=n[e].result;return i.emit("complete",a),i._removeUpload(e),a}i.log("Not setting result for an upload that has been removed: "+e)})},g.prototype.upload=function(){var t=this;this.plugins.uploader||this.log("No uploader type plugins are used","warning");var i=this.getState().files,s=this.opts.onBeforeUpload(i);if(!1===s)return Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false"));if(s&&"object"===(void 0===s?"undefined":e(s))){if(s.then)throw new TypeError("onBeforeUpload() returned a Promise, but this is no longer supported. It must be synchronous.");i=s}return Promise.resolve().then(function(){return t._checkMinNumberOfFiles(i)}).then(function(){var e=t.getState().currentUploads,s=Object.keys(e).reduce(function(t,i){return t.concat(e[i].fileIDs)},[]),o=[];Object.keys(i).forEach(function(e){var i=t.getFile(e);i.progress.uploadStarted||-1!==s.indexOf(e)||o.push(i.id)});var r=t._createUpload(o);return t._runUpload(r)}).catch(function(i){var s="object"===(void 0===i?"undefined":e(i))?i.message:i,o="object"===(void 0===i?"undefined":e(i))?i.details:null;return t.log(s+" "+o),t.info({message:s,details:o},"error",4e3),Promise.reject("object"===(void 0===i?"undefined":e(i))?i:new Error(i))})},i(g,[{key:"state",get:function(){return this.getState()}}]),g}();module.exports=function(e){return new m(e)},module.exports.Uppy=m,module.exports.Plugin=g;
},{"@uppy/utils/lib/Translator":"XnY4","namespace-emitter":"ZwW2","cuid":"fUGK","prettier-bytes":"nokW","mime-match":"QCFS","@uppy/store-default":"Mya8","@uppy/utils/lib/getFileType":"flEf","@uppy/utils/lib/getFileNameAndExtension":"zjWf","@uppy/utils/lib/generateFileID":"QqDy","@uppy/utils/lib/isObjectURL":"v3cx","@uppy/utils/lib/getTimeStamp":"RLAd","./Plugin":"Y9AE"}],"jMOd":[function(require,module,exports) {
module.exports=function(r,n){return(n="number"==typeof n?n:1/0)?function r(t,u){return t.reduce(function(t,e){return Array.isArray(e)&&u<n?t.concat(r(e,u+1)):t.concat(e)},[])}(r,1):Array.isArray(r)?r.map(function(r){return r}):r};
},{}],"QmGf":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"N3iY":[function(require,module,exports) {
var process = require("process");
var n=require("process");function c(c,o){var t,r,u,i=!0;function e(c){function r(){o&&o(c,t),o=null}i?n.nextTick(r):r()}function f(n,c,o){t[n]=o,(0==--r||c)&&e(c)}Array.isArray(c)?(t=[],r=c.length):(u=Object.keys(c),t={},r=u.length),r?u?u.forEach(function(n){c[n](function(c,o){f(n,c,o)})}):c.forEach(function(n,c){n(function(n,o){f(c,n,o)})}):e(null),i=!1}module.exports=c;
},{"process":"QmGf"}],"RIa0":[function(require,module,exports) {
module.exports=n;var e=require("flatten"),r=require("run-parallel");function n(n,o){if("string"==typeof n){var i=n;if(!(n=window.document.querySelector(n)))throw new Error('"'+i+'" does not match any HTML elements')}if(!n)throw new Error('"'+n+'" is not a valid HTML element');var f;return"function"==typeof o&&(o={onDrop:o}),n.addEventListener("dragenter",u,!1),n.addEventListener("dragover",l,!1),n.addEventListener("dragleave",s,!1),n.addEventListener("drop",c,!1),function(){d(),n.removeEventListener("dragenter",u,!1),n.removeEventListener("dragover",l,!1),n.removeEventListener("dragleave",s,!1),n.removeEventListener("drop",c,!1)};function u(e){return o.onDragEnter&&o.onDragEnter(e),e.stopPropagation(),e.preventDefault(),!1}function l(e){if(e.stopPropagation(),e.preventDefault(),e.dataTransfer.items){var r=a(e.dataTransfer.items),t=r.filter(function(e){return"file"===e.kind}),i=r.filter(function(e){return"string"===e.kind});if(0===t.length&&!o.onDropText)return;if(0===i.length&&!o.onDrop)return;if(0===t.length&&0===i.length)return}return n.classList.add("drag"),clearTimeout(f),o.onDragOver&&o.onDragOver(e),e.dataTransfer.dropEffect="copy",!1}function s(e){return e.stopPropagation(),e.preventDefault(),o.onDragLeave&&o.onDragLeave(e),clearTimeout(f),f=setTimeout(d,50),!1}function c(n){n.stopPropagation(),n.preventDefault(),o.onDragLeave&&o.onDragLeave(n),clearTimeout(f),d();var i={x:n.clientX,y:n.clientY},u=n.dataTransfer.getData("text");if(u&&o.onDropText&&o.onDropText(u,i),n.dataTransfer.items){var l=a(n.dataTransfer.items).filter(function(e){return"file"===e.kind});if(0===l.length)return;r(l.map(function(e){return function(r){t(e.webkitGetAsEntry(),r)}}),function(r,n){if(r)throw r;o.onDrop&&o.onDrop(e(n),i)})}else{var s=a(n.dataTransfer.files);if(0===s.length)return;s.forEach(function(e){e.fullPath="/"+e.name}),o.onDrop&&o.onDrop(s,i)}return!1}function d(){n.classList.remove("drag")}}function t(e,n){var o=[];if(e.isFile)e.file(function(r){r.fullPath=e.fullPath,n(null,r)},function(e){n(e)});else if(e.isDirectory){var i=e.createReader();!function e(){i.readEntries(function(i){i.length>0?(o=o.concat(a(i)),e()):r(o.map(function(e){return function(r){t(e,r)}}),n)})}()}}function a(e){return Array.prototype.slice.call(e||[],0)}
},{"flatten":"jMOd","run-parallel":"N3iY"}],"S/ou":[function(require,module,exports) {
module.exports=function(t,e){return t.length>e?t.substr(0,e/2)+"..."+t.substr(t.length-e/4,t.length):t};
},{}],"uCZh":[function(require,module,exports) {
module.exports=function(e,o){return o=o||"Copy the URL below",new Promise(function(t){var n=document.createElement("textarea");n.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),n.value=e,document.body.appendChild(n),n.select();var d=function(){document.body.removeChild(n),window.prompt(o,e),t()};try{return document.execCommand("copy")?(document.body.removeChild(n),t()):d()}catch(r){return document.body.removeChild(n),d()}})};
},{}],"qyn3":[function(require,module,exports) {
var s=require("preact"),r=s.h,e=2*Math.PI*15;module.exports=function(s){return r("svg",{width:"70",height:"70",viewBox:"0 0 36 36",class:"UppyIcon UppyIcon-progressCircle"},r("g",{class:"progress-group"},r("circle",{class:"bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),r("circle",{class:"progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)","stroke-width":"2",fill:"none","stroke-dasharray":e,"stroke-dashoffset":e-e/100*s.progress})),s.hidePauseResumeCancelButtons||s.bundled?null:r("g",null,r("polygon",{class:"play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}),r("g",{class:"pause",transform:"translate(14.5, 13)"},r("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),r("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})),r("polygon",{class:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"})),r("polygon",{class:"check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"}))};
},{"preact":"BkKT"}],"R62E":[function(require,module,exports) {
var h=require("preact"),t=h.h;function a(){return t("svg",{"aria-hidden":"true",width:"30",height:"30",viewBox:"0 0 30 30"},t("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}function c(){return t("svg",{"aria-hidden":"true",class:"UppyIcon",width:"51",height:"51",viewBox:"0 0 51 51"},t("path",{d:"M17.21 45.765a5.394 5.394 0 0 1-7.62 0l-4.12-4.122a5.393 5.393 0 0 1 0-7.618l6.774-6.775-2.404-2.404-6.775 6.776c-3.424 3.427-3.424 9 0 12.426l4.12 4.123a8.766 8.766 0 0 0 6.216 2.57c2.25 0 4.5-.858 6.214-2.57l13.55-13.552a8.72 8.72 0 0 0 2.575-6.213 8.73 8.73 0 0 0-2.575-6.213l-4.123-4.12-2.404 2.404 4.123 4.12a5.352 5.352 0 0 1 1.58 3.81c0 1.438-.562 2.79-1.58 3.808l-13.55 13.55z"}),t("path",{d:"M44.256 2.858A8.728 8.728 0 0 0 38.043.283h-.002a8.73 8.73 0 0 0-6.212 2.574l-13.55 13.55a8.725 8.725 0 0 0-2.575 6.214 8.73 8.73 0 0 0 2.574 6.216l4.12 4.12 2.405-2.403-4.12-4.12a5.357 5.357 0 0 1-1.58-3.812c0-1.437.562-2.79 1.58-3.808l13.55-13.55a5.348 5.348 0 0 1 3.81-1.58c1.44 0 2.792.562 3.81 1.58l4.12 4.12c2.1 2.1 2.1 5.518 0 7.617L39.2 23.775l2.404 2.404 6.775-6.777c3.426-3.427 3.426-9 0-12.426l-4.12-4.12z"}))}function i(){return t("svg",{"aria-hidden":"true",class:"UppyIcon",width:"25",height:"25",viewBox:"0 0 44 44"},t("polygon",{class:"play",transform:"translate(6, 5.5)",points:"13 21.6666667 13 11 21 16.3333333"}))}function e(){return t("svg",{"aria-hidden":"true",class:"UppyIcon",width:"25px",height:"25px",viewBox:"0 0 44 44"},t("g",{transform:"translate(18, 17)",class:"pause"},t("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),t("rect",{x:"6",y:"0",width:"2",height:"10",rx:"0"})))}function n(){return t("svg",{"aria-hidden":"true",fill:"#607d8b",width:"27",height:"25",viewBox:"0 0 27 25"},t("path",{d:"M5.586 9.288a.313.313 0 0 0 .282.176h4.84v3.922c0 1.514 1.25 2.24 2.792 2.24 1.54 0 2.79-.726 2.79-2.24V9.464h4.84c.122 0 .23-.068.284-.176a.304.304 0 0 0-.046-.324L13.735.106a.316.316 0 0 0-.472 0l-7.63 8.857a.302.302 0 0 0-.047.325z"}),t("path",{d:"M24.3 5.093c-.218-.76-.54-1.187-1.208-1.187h-4.856l1.018 1.18h3.948l2.043 11.038h-7.193v2.728H9.114v-2.725h-7.36l2.66-11.04h3.33l1.018-1.18H3.907c-.668 0-1.06.46-1.21 1.186L0 16.456v7.062C0 24.338.676 25 1.51 25h23.98c.833 0 1.51-.663 1.51-1.482v-7.062L24.3 5.093z"}))}function r(){return t("svg",{"aria-hidden":"true",class:"UppyIcon retry",width:"28",height:"31",viewBox:"0 0 16 19",xmlns:"http://www.w3.org/2000/svg"},t("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),t("path",{d:"M7.9 3H10v2H7.9z"}),t("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),t("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))}function l(){return t("svg",{"aria-hidden":"true",class:"UppyIcon UppyIcon-check",width:"13",height:"9",viewBox:"0 0 13 9"},t("polygon",{points:"5 7.293 1.354 3.647 0.646 4.354 5 8.707 12.354 1.354 11.646 0.647"}))}function o(){return t("svg",{"aria-hidden":"true",class:"UppyIcon",width:"55",height:"55",viewBox:"0 0 55 55"},t("path",{d:"M52.66.25c-.216-.19-.5-.276-.79-.242l-31 4.01a1 1 0 0 0-.87.992V40.622C18.174 38.428 15.273 37 12 37c-5.514 0-10 4.037-10 9s4.486 9 10 9 10-4.037 10-9c0-.232-.02-.46-.04-.687.014-.065.04-.124.04-.192V16.12l29-3.753v18.257C49.174 28.428 46.273 27 43 27c-5.514 0-10 4.037-10 9s4.486 9 10 9c5.464 0 9.913-3.966 9.993-8.867 0-.013.007-.024.007-.037V1a.998.998 0 0 0-.34-.75zM12 53c-4.41 0-8-3.14-8-7s3.59-7 8-7 8 3.14 8 7-3.59 7-8 7zm31-10c-4.41 0-8-3.14-8-7s3.59-7 8-7 8 3.14 8 7-3.59 7-8 7zM22 14.1V5.89l29-3.753v8.21l-29 3.754z"}))}function v(){return t("svg",{"aria-hidden":"true",class:"UppyIcon",viewBox:"0 0 58 58"},t("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),t("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}))}function d(){return t("svg",{"aria-hidden":"true",class:"UppyIcon",viewBox:"0 0 342 335"},t("path",{d:"M329.337 227.84c-2.1 1.3-8.1 2.1-11.9 2.1-12.4 0-27.6-5.7-49.1-14.9 8.3-.6 15.8-.9 22.6-.9 12.4 0 16 0 28.2 3.1 12.1 3 12.2 9.3 10.2 10.6zm-215.1 1.9c4.8-8.4 9.7-17.3 14.7-26.8 12.2-23.1 20-41.3 25.7-56.2 11.5 20.9 25.8 38.6 42.5 52.8 2.1 1.8 4.3 3.5 6.7 5.3-34.1 6.8-63.6 15-89.6 24.9zm39.8-218.9c6.8 0 10.7 17.06 11 33.16.3 16-3.4 27.2-8.1 35.6-3.9-12.4-5.7-31.8-5.7-44.5 0 0-.3-24.26 2.8-24.26zm-133.4 307.2c3.9-10.5 19.1-31.3 41.6-49.8 1.4-1.1 4.9-4.4 8.1-7.4-23.5 37.6-39.3 52.5-49.7 57.2zm315.2-112.3c-6.8-6.7-22-10.2-45-10.5-15.6-.2-34.3 1.2-54.1 3.9-8.8-5.1-17.9-10.6-25.1-17.3-19.2-18-35.2-42.9-45.2-70.3.6-2.6 1.2-4.8 1.7-7.1 0 0 10.8-61.5 7.9-82.3-.4-2.9-.6-3.7-1.4-5.9l-.9-2.5c-2.9-6.76-8.7-13.96-17.8-13.57l-5.3-.17h-.1c-10.1 0-18.4 5.17-20.5 12.84-6.6 24.3.2 60.5 12.5 107.4l-3.2 7.7c-8.8 21.4-19.8 43-29.5 62l-1.3 2.5c-10.2 20-19.5 37-27.9 51.4l-8.7 4.6c-.6.4-15.5 8.2-19 10.3-29.6 17.7-49.28 37.8-52.54 53.8-1.04 5-.26 11.5 5.01 14.6l8.4 4.2c3.63 1.8 7.53 2.7 11.43 2.7 21.1 0 45.6-26.2 79.3-85.1 39-12.7 83.4-23.3 122.3-29.1 29.6 16.7 66 28.3 89 28.3 4.1 0 7.6-.4 10.5-1.2 4.4-1.1 8.1-3.6 10.4-7.1 4.4-6.7 5.4-15.9 4.1-25.4-.3-2.8-2.6-6.3-5-8.7z"}))}function s(){return t("svg",{"aria-hidden":"true",class:"UppyIcon",width:"44",height:"58",viewBox:"0 0 44 58"},t("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}))}function p(){return t("svg",{"aria-hidden":"true",class:"UppyIcon",width:"62",height:"62",viewBox:"0 0 62 62",xmlns:"http://www.w3.org/2000/svg"},t("path",{d:"M4.309 4.309h24.912v53.382h-6.525v3.559h16.608v-3.559h-6.525V4.309h24.912v10.676h3.559V.75H.75v14.235h3.559z","fill-rule":"nonzero",fill:"#000"}))}module.exports={defaultTabIcon:a,iconCopy:c,iconResume:i,iconPause:e,iconRetry:r,localIcon:n,checkIcon:l,iconAudio:o,iconVideo:v,iconPDF:d,iconFile:s,iconText:p};
},{"preact":"BkKT"}],"l360":[function(require,module,exports) {
var o=require("../components/icons"),c=o.iconText,i=o.iconAudio,n=o.iconVideo,r=o.iconPDF;module.exports=function(o){var e={color:"#cbcbcb",icon:""};if(!o)return e;var t=o.split("/")[0],l=o.split("/")[1];return"text"===t?{color:"#cbcbcb",icon:c()}:"audio"===t?{color:"#1abc9c",icon:i()}:"video"===t?{color:"#2980b9",icon:n()}:"application"===t&&"pdf"===l?{color:"#e74c3c",icon:r()}:"image"===t?{color:"#f2f2f2",icon:""}:e};
},{"../components/icons":"R62E"}],"2qmT":[function(require,module,exports) {
var e=require("../utils/getFileTypeIcon"),r=require("preact"),a=r.h;module.exports=function(r){var p=r.file;if(p.preview)return a("img",{class:"uppy-DashboardItem-previewImg",alt:p.name,src:p.preview});var i=e(p.type),l=i.color,s=i.icon;return a("div",{class:"uppy-DashboardItem-previewIconWrap"},a("span",{class:"uppy-DashboardItem-previewIcon",style:{color:l}},s),a("svg",{class:"uppy-DashboardItem-previewIconBg",width:"72",height:"93",viewBox:"0 0 72 93"},a("g",null,a("path",{d:"M24.08 5h38.922A2.997 2.997 0 0 1 66 8.003v74.994A2.997 2.997 0 0 1 63.004 86H8.996A2.998 2.998 0 0 1 6 83.01V22.234L24.08 5z",fill:"#FFF"}),a("path",{d:"M24 5L6 22.248h15.007A2.995 2.995 0 0 0 24 19.244V5z",fill:"#E4E4E4"}))))};
},{"../utils/getFileTypeIcon":"l360","preact":"BkKT"}],"C7vi":[function(require,module,exports) {
var define;
var e;!function(){"use strict";var r={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var a=typeof o;if("string"===a||"number"===a)e.push(o);else if(Array.isArray(o)&&o.length){var s=n.apply(null,o);s&&e.push(s)}else if("object"===a)for(var u in o)r.call(o,u)&&o[u]&&e.push(u)}}return e.join(" ")}"undefined"!=typeof module&&module.exports?(n.default=n,module.exports=n):"function"==typeof e&&"object"==typeof e.amd&&e.amd?e("classnames",[],function(){return n}):window.classNames=n}();
},{}],"LfKc":[function(require,module,exports) {
var e=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e},r=require("@uppy/utils/lib/getFileNameAndExtension"),o=require("../utils/truncateString"),s=require("../utils/copyToClipboard"),i=require("prettier-bytes"),t=require("./FileItemProgress"),a=require("../utils/getFileTypeIcon"),n=require("./FilePreview"),l=require("./icons"),p=l.iconCopy,u=l.iconRetry,d=require("classnames"),c=require("preact"),m=c.h;function b(e){if(!e.hideRetryButton||!e.error)return e.isUploaded||e.bundled||e.hidePauseResumeCancelButtons&&!e.error?m("div",{class:"uppy-DashboardItem-progressIndicator"},m(t,{progress:e.file.progress.percentage,fileID:e.file.id,hidePauseResumeCancelButtons:e.hidePauseResumeCancelButtons,bundled:e.bundled})):m("button",{class:"uppy-DashboardItem-progressIndicator",type:"button","aria-label":e.progressIndicatorTitle,title:e.progressIndicatorTitle,onclick:e.onPauseResumeCancelRetry},e.error?e.hideRetryButton?null:u():m(t,{progress:e.file.progress.percentage,fileID:e.file.id,hidePauseResumeCancelButtons:e.hidePauseResumeCancelButtons}))}module.exports=function(t){var l=t.file,u=t.acquirers,c=l.progress.preprocess||l.progress.postprocess,h=l.progress.uploadComplete&&!c&&!l.error,y=l.progress.uploadStarted||c,g=l.progress.uploadStarted&&!l.progress.uploadComplete||c,f=l.isPaused||!1,v=l.error||!1,I=r(l.meta.name).name,R=t.isWide?o(I,30):I;var k=d("uppy-DashboardItem",{"is-inprogress":g},{"is-processing":c},{"is-complete":h},{"is-paused":f},{"is-error":v},{"is-resumable":t.resumableUploads},{"is-bundled":t.bundledUpload});return m("li",{class:k,id:"uppy_"+l.id,title:l.meta.name},m("div",{class:"uppy-DashboardItem-preview"},m("div",{class:"uppy-DashboardItem-previewInnerWrap",style:{backgroundColor:a(l.type).color}},t.showLinkToFileUploadResult&&l.uploadURL?m("a",{class:"uppy-DashboardItem-previewLink",href:l.uploadURL,rel:"noreferrer noopener",target:"_blank"}):null,m(n,{file:l})),m("div",{class:"uppy-DashboardItem-progress"},m(b,e({progressIndicatorTitle:function(e){return h?e.i18n("uploadComplete"):v?e.i18n("retryUpload"):e.resumableUploads?l.isPaused?e.i18n("resumeUpload"):e.i18n("pauseUpload"):e.i18n("cancelUpload")}(t),onPauseResumeCancelRetry:function(e){h||(!v||t.hideRetryButton?t.hidePauseResumeCancelButtons||(t.resumableUploads?t.pauseUpload(l.id):t.cancelUpload(l.id)):t.retryUpload(l.id))},file:l,error:v},t)))),m("div",{class:"uppy-DashboardItem-info"},m("div",{class:"uppy-DashboardItem-name",title:I},t.showLinkToFileUploadResult&&l.uploadURL?m("a",{href:l.uploadURL,rel:"noreferrer noopener",target:"_blank"},l.extension?R+"."+l.extension:R):l.extension?R+"."+l.extension:R),m("div",{class:"uppy-DashboardItem-status"},l.data.size?m("div",{class:"uppy-DashboardItem-statusSize"},i(l.data.size)):null,l.source&&l.source!==t.id&&m("div",{class:"uppy-DashboardItem-sourceIcon"},u.map(function(e){if(e.id===l.source)return m("span",{title:t.i18n("fileSource",{name:e.name})},e.icon())})),!y&&t.metaFields&&t.metaFields.length?m("button",{class:"uppy-DashboardItem-edit",type:"button","aria-label":t.i18n("editFile"),title:t.i18n("editFile"),onclick:function(e){return t.toggleFileCard(l.id)}},t.i18n("edit")):null,t.showLinkToFileUploadResult&&l.uploadURL?m("button",{class:"uppy-DashboardItem-copyLink",type:"button","aria-label":t.i18n("copyLink"),title:t.i18n("copyLink"),onclick:function(){s(l.uploadURL,t.i18n("copyLinkToClipboardFallback")).then(function(){t.log("Link copied to clipboard."),t.info(t.i18n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(t.log)}},p()):"")),m("div",{class:"uppy-DashboardItem-action"},!h&&m("button",{class:"uppy-DashboardItem-remove",type:"button","aria-label":t.i18n("removeFile"),title:t.i18n("removeFile"),onclick:function(){return t.removeFile(l.id)}},m("svg",{"aria-hidden":"true",class:"UppyIcon",width:"60",height:"60",viewBox:"0 0 60 60",xmlns:"http://www.w3.org/2000/svg"},m("path",{stroke:"#FFF","stroke-width":"1","fill-rule":"nonzero","vector-effect":"non-scaling-stroke",d:"M30 1C14 1 1 14 1 30s13 29 29 29 29-13 29-29S46 1 30 1z"}),m("path",{fill:"#FFF","vector-effect":"non-scaling-stroke",d:"M42 39.667L39.667 42 30 32.333 20.333 42 18 39.667 27.667 30 18 20.333 20.333 18 30 27.667 39.667 18 42 20.333 32.333 30z"})))))};
},{"@uppy/utils/lib/getFileNameAndExtension":"zjWf","../utils/truncateString":"S/ou","../utils/copyToClipboard":"uCZh","prettier-bytes":"nokW","./FileItemProgress":"qyn3","../utils/getFileTypeIcon":"l360","./FilePreview":"2qmT","./icons":"R62E","classnames":"C7vi","preact":"BkKT"}],"DImT":[function(require,module,exports) {
var e=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},r=require("./FileItem"),a=require("classnames"),s=require("preact"),t=s.h;module.exports=function(s){var i=0===s.totalFileCount,l=a("uppy-Dashboard-files",{"uppy-Dashboard-files--noFiles":i});return t("ul",{class:l},Object.keys(s.files).map(function(a){return t(r,e({},s,{acquirers:s.acquirers,file:s.files[a]}))}))};
},{"./FileItem":"LfKc","classnames":"C7vi","preact":"BkKT"}],"E3Aj":[function(require,module,exports) {
function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=require("preact"),o=r.h,i=r.Component,p=function(r){function i(n){e(this,i);var o=t(this,r.call(this,n));return o.handleClick=o.handleClick.bind(o),o}return n(i,r),i.prototype.handleClick=function(e){this.input.click()},i.prototype.render=function(){var e=this,t=o("button",{type:"button",class:"uppy-Dashboard-browse",onclick:this.handleClick},this.props.i18n("browse"));return o("div",{class:"uppy-Dashboard-dropFilesTitle"},0===this.props.acquirers.length?this.props.i18nArray("dropPaste",{browse:t}):this.props.i18nArray("dropPasteImport",{browse:t}),o("input",{class:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabindex:-1,type:"file",name:"files[]",multiple:1!==this.props.maxNumberOfFiles,onchange:this.props.handleInputChange,accept:this.props.allowedFileTypes,value:"",ref:function(t){e.input=t}}))},i}(i);module.exports=p;
},{"preact":"BkKT"}],"DXCd":[function(require,module,exports) {
function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function s(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}var a=require("./ActionBrowseTagline"),t=require("./icons"),p=t.localIcon,i=require("preact"),n=i.h,o=i.Component,l=function(e){return n("a",{tabindex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",class:"uppy-Dashboard-poweredBy"},"Powered by ",n("svg",{"aria-hidden":"true",class:"UppyIcon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11",xmlns:"http://www.w3.org/2000/svg"},n("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z","fill-rule":"evenodd"})),n("span",{class:"uppy-Dashboard-poweredByUppy"},"Uppy"))},h=function(t){function i(s){e(this,i);var a=r(this,t.call(this,s));return a.handleClick=a.handleClick.bind(a),a}return s(i,t),i.prototype.handleClick=function(e){this.input.click()},i.prototype.render=function(){var e=this,r=0!==this.props.acquirers.length;return n("div",{class:"uppy-DashboarAddFiles"},r?n("div",{class:"uppy-DashboardTabs"},n(a,{acquirers:this.props.acquirers,handleInputChange:this.props.handleInputChange,i18n:this.props.i18n,i18nArray:this.props.i18nArray,allowedFileTypes:this.props.allowedFileTypes,maxNumberOfFiles:this.props.maxNumberOfFiles}),n("div",{class:"uppy-DashboardTabs-list",role:"tablist"},n("div",{class:"uppy-DashboardTab",role:"presentation"},n("button",{type:"button",class:"uppy-DashboardTab-btn",role:"tab",tabindex:0,onclick:this.handleClick},p(),n("div",{class:"uppy-DashboardTab-name"},this.props.i18n("myDevice"))),n("input",{class:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabindex:-1,type:"file",name:"files[]",multiple:1!==this.props.maxNumberOfFiles,accept:this.props.allowedFileTypes,onchange:this.props.handleInputChange,value:"",ref:function(r){e.input=r}})),this.props.acquirers.map(function(r){return n("div",{class:"uppy-DashboardTab",role:"presentation"},n("button",{class:"uppy-DashboardTab-btn",type:"button",role:"tab",tabindex:0,"aria-controls":"uppy-DashboardContent-panel--"+r.id,"aria-selected":e.props.activePanel.id===r.id,onclick:function(){return e.props.showPanel(r.id)}},r.icon(),n("div",{class:"uppy-DashboardTab-name"},r.name)))}))):n("div",{class:"uppy-DashboardTabs"},n(a,{acquirers:this.props.acquirers,handleInputChange:this.props.handleInputChange,i18n:this.props.i18n,i18nArray:this.props.i18nArray,allowedFileTypes:this.props.allowedFileTypes,maxNumberOfFiles:this.props.maxNumberOfFiles})),n("div",{class:"uppy-DashboarAddFiles-info"},this.props.note&&n("div",{class:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&l(this.props)))},i}(o);module.exports=h;
},{"./ActionBrowseTagline":"E3Aj","./icons":"R62E","preact":"BkKT"}],"XE8c":[function(require,module,exports) {
var e=require("preact"),a=e.h,n=require("./AddFiles"),d=function(e){return a("div",{class:"uppy-Dashboard-AddFilesPanel","aria-hidden":e.showAddFilesPanel},a("div",{class:"uppy-DashboardContent-bar"},a("div",{class:"uppy-DashboardContent-title",role:"heading","aria-level":"h1"},e.i18n("addingMoreFiles")),a("button",{class:"uppy-DashboardContent-back",type:"button",onclick:function(a){return e.toggleAddFilesPanel(!1)}},e.i18n("back"))),a(n,e))};module.exports=d;
},{"preact":"BkKT","./AddFiles":"DXCd"}],"rhvZ":[function(require,module,exports) {
function t(t){var a=t.target.tagName;"INPUT"!==a&&"TEXTAREA"!==a?(t.preventDefault(),t.stopPropagation()):t.stopPropagation()}module.exports=t;
},{}],"6PyP":[function(require,module,exports) {
var e=require("preact"),a=e.h,n=require("../utils/ignoreEvent.js");function t(e){return a("div",{class:"uppy-DashboardContent-panel",role:"tabpanel",id:e.activePanel&&"uppy-DashboardContent-panel--"+e.activePanel.id,onDragOver:n,onDragLeave:n,onDrop:n,onPaste:n},a("div",{class:"uppy-DashboardContent-bar"},a("div",{class:"uppy-DashboardContent-title",role:"heading","aria-level":"h1"},e.i18n("importFrom",{name:e.activePanel.name})),a("button",{class:"uppy-DashboardContent-back",type:"button",onclick:e.hideAllPanels},e.i18n("done"))),a("div",{class:"uppy-DashboardContent-panelBody"},e.getPlugin(e.activePanel.id).render(e.state)))}module.exports=t;
},{"preact":"BkKT","../utils/ignoreEvent.js":"rhvZ"}],"5Go+":[function(require,module,exports) {
var e=require("preact"),t=e.h;function n(e){if(e.newFiles.length)return e.i18n("xFilesSelected",{smart_count:e.newFiles.length})}function a(e){var a=!e.maxNumberOfFiles||e.totalFileCount<e.maxNumberOfFiles;return t("div",{class:"uppy-DashboardContent-bar"},t("button",{class:"uppy-DashboardContent-back",type:"button",onclick:e.cancelAll},e.i18n("cancel")),t("div",{class:"uppy-DashboardContent-title",role:"heading","aria-level":"h1"},t(n,e)),a&&t("button",{class:"uppy-DashboardContent-addMore",type:"button","aria-label":e.i18n("addMoreFiles"),title:e.i18n("addMoreFiles"),onclick:function(){return e.toggleAddFilesPanel(!0)}},t("svg",{class:"UppyIcon",width:"15",height:"15",viewBox:"0 0 13 13",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},t("path",{d:"M7,6 L13,6 L13,7 L7,7 L7,13 L6,13 L6,7 L0,7 L0,6 L6,6 L6,0 L7,0 L7,6 Z"}))))}module.exports=a;
},{"preact":"BkKT"}],"e194":[function(require,module,exports) {
function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=require("../utils/getFileTypeIcon"),n=require("./FilePreview"),i=require("../utils/ignoreEvent.js"),o=require("preact"),p=o.h,s=o.Component,l=function(o){function s(r){e(this,s);var a=t(this,o.call(this,r));return a.meta={},a.tempStoreMetaOrSubmit=a.tempStoreMetaOrSubmit.bind(a),a.renderMetaFields=a.renderMetaFields.bind(a),a.handleSave=a.handleSave.bind(a),a.handleCancel=a.handleCancel.bind(a),a}return r(s,o),s.prototype.componentDidMount=function(){var e=this;setTimeout(function(){e.firstInput&&e.firstInput.focus({preventScroll:!0})},150)},s.prototype.tempStoreMetaOrSubmit=function(e){var t=this.props.files[this.props.fileCardFor];if(13===e.keyCode)return e.stopPropagation(),e.preventDefault(),void this.props.saveFileCard(this.meta,t.id);var r=e.target.value,a=e.target.dataset.name;this.meta[a]=r},s.prototype.renderMetaFields=function(e){var t=this;return(this.props.metaFields||[]).map(function(r,a){return p("fieldset",{class:"uppy-DashboardFileCard-fieldset"},p("label",{class:"uppy-DashboardFileCard-label"},r.name),p("input",{class:"uppy-c-textInput uppy-DashboardFileCard-input",type:"text","data-name":r.id,value:e.meta[r.id],placeholder:r.placeholder,onkeyup:t.tempStoreMetaOrSubmit,onkeydown:t.tempStoreMetaOrSubmit,onkeypress:t.tempStoreMetaOrSubmit,ref:function(e){0===a&&(t.firstInput=e)}}))})},s.prototype.handleSave=function(e){var t=this.props.fileCardFor;this.props.saveFileCard(this.meta,t)},s.prototype.handleCancel=function(e){this.meta={},this.props.toggleFileCard()},s.prototype.render=function(){var e=this.props.files[this.props.fileCardFor];return p("div",{class:"uppy-DashboardFileCard",onDragOver:i,onDragLeave:i,onDrop:i,onPaste:i},p("div",{class:"uppy-DashboardContent-bar"},p("div",{class:"uppy-DashboardContent-title",role:"heading","aria-level":"h1"},this.props.i18nArray("editing",{file:p("span",{class:"uppy-DashboardContent-titleFile"},e.meta?e.meta.name:e.name)})),p("button",{class:"uppy-DashboardContent-back",type:"button",title:this.props.i18n("finishEditingFile"),onclick:this.handleSave},this.props.i18n("done"))),p("div",{class:"uppy-DashboardFileCard-inner"},p("div",{class:"uppy-DashboardFileCard-preview",style:{backgroundColor:a(e.type).color}},p(n,{file:e})),p("div",{class:"uppy-DashboardFileCard-info"},this.renderMetaFields(e)),p("div",{class:"uppy-Dashboard-actions"},p("button",{class:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-actionsBtn",type:"button",onclick:this.handleSave},this.props.i18n("saveChanges")),p("button",{class:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-actionsBtn",type:"button",onclick:this.handleCancel},this.props.i18n("cancel")))))},s}(s);module.exports=l;
},{"../utils/getFileTypeIcon":"l360","./FilePreview":"2qmT","../utils/ignoreEvent.js":"rhvZ","preact":"BkKT"}],"iKj9":[function(require,module,exports) {
module.exports=function(){return"ontouchstart"in window||navigator.maxTouchPoints};
},{}],"QRVi":[function(require,module,exports) {
var define;
var global = arguments[3];
var t,n=arguments[3];!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("preact")):"function"==typeof t&&t.amd?t(["preact"],e):n.PreactCSSTransitionGroup=e(n.preact)}(this,function(t){"use strict";function n(t){return t.attributes&&t.attributes.key}function e(t){return t.base}function i(t){return t&&t.filter(function(t){return null!==t})}function r(t,n){for(var e=t.length;e--;)if(n(t[e]))return!0;return!1}function o(t,e){return r(t,function(t){return n(t)===e})}function s(t,e){return o(t,n(e))}function a(t,e,i){return r(t,function(t){return n(t)===e&&t.props[i]})}function u(t,e,i){return a(t,n(e),i)}var c=" ",p=/[\n\t\r]+/g,l=function(t){return(c+t+c).replace(p,c)};function h(t,n){var e;t.classList?(e=t.classList).add.apply(e,n.split(" ")):t.className+=" "+n}function f(t,n){if(n=n.trim(),t.classList){var e;(e=t.classList).remove.apply(e,n.split(" "))}else{var i=t.className.trim(),r=l(i);for(n=c+n+c;r.indexOf(n)>=0;)r=r.replace(n,c);t.className=r.trim()}}var m={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},d=[];"undefined"!=typeof window&&function(){var t=document.createElement("div").style;for(var n in"AnimationEvent"in window||delete m.animationend.animation,"TransitionEvent"in window||delete m.transitionend.transition,m){var e=m[n];for(var i in e)if(i in t){d.push(e[i]);break}}}();var v=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},y=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)},T=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n},E=function(t){function n(){var i,r;v(this,n);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=r=T(this,t.call.apply(t,[this].concat(s))),r.flushClassNameQueue=function(){e(r)&&h(e(r),r.classNameQueue.join(" ")),r.classNameQueue.length=0,r.timeout=null},T(r,i)}return y(n,t),n.prototype.transition=function(t,n,i){var r=this,o=e(this),s=this.props.name[t]||this.props.name+"-"+t,a=this.props.name[t+"Active"]||s+"-active",u=null;this.endListener&&this.endListener(),this.endListener=function(t){t&&t.target!==o||(clearTimeout(u),f(o,s),f(o,a),function(t,n){d.length&&d.forEach(function(e){t.removeEventListener(e,n,!1)})}(o,r.endListener),r.endListener=null,n&&n())},i?(u=setTimeout(this.endListener,i),this.transitionTimeouts.push(u)):function(t,n){if(!d.length)return window.setTimeout(n,0);d.forEach(function(e){t.addEventListener(e,n,!1)})}(o,this.endListener),h(o,s),this.queueClass(a)},n.prototype.queueClass=function(t){this.classNameQueue.push(t),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,17))},n.prototype.stop=function(){this.timeout&&(clearTimeout(this.timeout),this.classNameQueue.length=0,this.timeout=null),this.endListener&&this.endListener()},n.prototype.componentWillMount=function(){this.classNameQueue=[],this.transitionTimeouts=[]},n.prototype.componentWillUnmount=function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(t){clearTimeout(t)})},n.prototype.componentWillEnter=function(t){this.props.enter?this.transition("enter",t,this.props.enterTimeout):t()},n.prototype.componentWillLeave=function(t){this.props.leave?this.transition("leave",t,this.props.leaveTimeout):t()},n.prototype.render=function(){return(t=this.props.children)&&t[0];var t},n}(t.Component),L=function(e){function r(i){v(this,r);var o=T(this,e.call(this));return o.renderChild=function(e){var i=o.props,r=i.transitionName,s=i.transitionEnter,a=i.transitionLeave,u=i.transitionEnterTimeout,c=i.transitionLeaveTimeout,p=n(e);return t.h(E,{key:p,ref:function(t){(o.refs[p]=t)||(e=null)},name:r,enter:s,leave:a,enterTimeout:u,leaveTimeout:c},e)},o.refs={},o.state={children:(i.children||[]).slice()},o}return y(r,e),r.prototype.shouldComponentUpdate=function(t,n){return n.children!==this.state.children},r.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},r.prototype.componentWillReceiveProps=function(e){var r,a,c,p,l=this,h=e.children,f=e.exclusive,m=e.showProp,d=i(h||[]).slice(),v=i(f?this.props.children:this.state.children),y=(r=d,a=[],c={},p=[],v.forEach(function(t){var e=n(t);o(r,e)?p.length&&(c[e]=p,p=[]):p.push(t)}),r.forEach(function(t){var e=n(t);c.hasOwnProperty(e)&&(a=a.concat(c[e])),a.push(t)}),a.concat(p));m&&(y=y.map(function(n){var e;!n.props[m]&&u(v,n,m)&&(n=t.cloneElement(n,((e={})[m]=!0,e)));return n})),f&&y.forEach(function(t){return l.stop(n(t))}),this.setState({children:y}),this.forceUpdate(),d.forEach(function(t){var n=t.key,e=v&&s(v,t);if(m){if(e){var i=u(v,t,m),r=t.props[m];i||!r||l.currentlyTransitioningKeys[n]||l.keysToEnter.push(n)}}else e||l.currentlyTransitioningKeys[n]||l.keysToEnter.push(n)}),v.forEach(function(t){var n=t.key,e=d&&s(d,t);if(m){if(e){var i=u(d,t,m),r=t.props[m];i||!r||l.currentlyTransitioningKeys[n]||l.keysToLeave.push(n)}}else e||l.currentlyTransitioningKeys[n]||l.keysToLeave.push(n)})},r.prototype.performEnter=function(t){var n=this;this.currentlyTransitioningKeys[t]=!0;var e=this.refs[t];e.componentWillEnter?e.componentWillEnter(function(){return n._handleDoneEntering(t)}):this._handleDoneEntering(t)},r.prototype._handleDoneEntering=function(t){delete this.currentlyTransitioningKeys[t];var n=i(this.props.children),e=this.props.showProp;!n||!e&&!o(n,t)||e&&!a(n,t,e)?this.performLeave(t):this.setState({children:n})},r.prototype.stop=function(t){delete this.currentlyTransitioningKeys[t];var n=this.refs[t];n&&n.stop()},r.prototype.performLeave=function(t){var n=this;this.currentlyTransitioningKeys[t]=!0;var e=this.refs[t];e&&e.componentWillLeave?e.componentWillLeave(function(){return n._handleDoneLeaving(t)}):this._handleDoneLeaving(t)},r.prototype._handleDoneLeaving=function(t){delete this.currentlyTransitioningKeys[t];var n=this.props.showProp,e=i(this.props.children);n&&e&&a(e,t,n)?this.performEnter(t):!n&&e&&o(e,t)?this.performEnter(t):this.setState({children:e})},r.prototype.componentDidUpdate=function(){var t=this,n=this.keysToEnter,e=this.keysToLeave;this.keysToEnter=[],n.forEach(function(n){return t.performEnter(n)}),this.keysToLeave=[],e.forEach(function(n){return t.performLeave(n)})},r.prototype.render=function(n,e){var r=n.component,o=(n.transitionName,n.transitionEnter,n.transitionLeave,n.transitionEnterTimeout,n.transitionLeaveTimeout,n.children,function(t,n){var e={};for(var i in t)n.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}(n,["component","transitionName","transitionEnter","transitionLeave","transitionEnterTimeout","transitionLeaveTimeout","children"])),s=e.children;return t.h(r,o,i(s).map(this.renderChild))},r}(t.Component);return L.defaultProps={component:"span",transitionEnter:!0,transitionLeave:!0},L});
},{"preact":"BkKT"}],"Bp6c":[function(require,module,exports) {
var e=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=require("./FileList"),a=require("./AddFiles"),n=require("./AddFilesPanel"),t=require("./PanelContent"),r=require("./PanelTopBar"),s=require("./FileCard"),l=require("classnames"),o=require("@uppy/utils/lib/isTouchDevice"),d=require("preact"),p=d.h,u=require("preact-css-transition-group");module.exports=function(d){var c=0===d.totalFileCount,h=l({"uppy-Root":d.isTargetDOMEl},"uppy-Dashboard",{"Uppy--isTouchDevice":o()},{"uppy-Dashboard--animateOpenClose":d.animateOpenClose},{"uppy-Dashboard--isClosing":d.isClosing},{"uppy-Dashboard--modal":!d.inline},{"uppy-size--md":d.containerWidth>576},{"uppy-size--lg":d.containerWidth>700},{"uppy-Dashboard--isAddFilesPanelVisible":d.showAddFilesPanel});return p("div",{class:h,"aria-hidden":d.inline?"false":d.modal.isHidden,"aria-label":d.inline?d.i18n("dashboardTitle"):d.i18n("dashboardWindowTitle"),onpaste:d.handlePaste},p("div",{class:"uppy-Dashboard-overlay",tabindex:-1,onclick:d.handleClickOutside}),p("div",{class:"uppy-Dashboard-inner","aria-modal":!d.inline&&"true",role:!d.inline&&"dialog",style:{width:d.inline&&d.width?d.width:"",height:d.inline&&d.height?d.height:""}},p("button",{class:"uppy-Dashboard-close",type:"button","aria-label":d.i18n("closeModal"),title:d.i18n("closeModal"),onclick:d.closeModal},p("span",{"aria-hidden":"true"},"×")),p("div",{class:"uppy-Dashboard-innerWrap"},!c&&d.showSelectedFiles&&p(r,d),d.showSelectedFiles?p(c?a:i,d):p(a,d),p(u,{transitionName:"uppy-transition-slideDownUp",transitionEnterTimeout:250,transitionLeaveTimeout:250},d.showAddFilesPanel?p(n,e({key:"AddFilesPanel"},d)):null),p(u,{transitionName:"uppy-transition-slideDownUp",transitionEnterTimeout:250,transitionLeaveTimeout:250},d.fileCardFor?p(s,e({key:"FileCard"},d)):null),p(u,{transitionName:"uppy-transition-slideDownUp",transitionEnterTimeout:250,transitionLeaveTimeout:250},d.activePanel?p(t,e({key:"PanelContent"},d)):null),p("div",{class:"uppy-Dashboard-progressindicators"},d.progressindicators.map(function(e){return d.getPlugin(e.id).render(d.state)})))))};
},{"./FileList":"DImT","./AddFiles":"DXCd","./AddFilesPanel":"XE8c","./PanelContent":"6PyP","./PanelTopBar":"5Go+","./FileCard":"e194","classnames":"C7vi","@uppy/utils/lib/isTouchDevice":"iKj9","preact":"BkKT","preact-css-transition-group":"QRVi"}],"RgI1":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3],n="Expected a function",e=NaN,i="[object Symbol]",r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,f=/^0o[0-7]+$/i,a=parseInt,c="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,s=c||l||Function("return this")(),v=Object.prototype,p=v.toString,y=Math.max,d=Math.min,m=function(){return s.Date.now()};function b(t,e,i){var r,o,u,f,a,c,l=0,s=!1,v=!1,p=!0;if("function"!=typeof t)throw new TypeError(n);function b(n){var e=r,i=o;return r=o=void 0,l=n,f=t.apply(i,e)}function g(t){var n=t-c;return void 0===c||n>=e||n<0||v&&t-l>=u}function h(){var t=m();if(g(t))return x(t);a=setTimeout(h,function(t){var n=e-(t-c);return v?d(n,u-(t-l)):n}(t))}function x(t){return a=void 0,p&&r?b(t):(r=o=void 0,f)}function T(){var t=m(),n=g(t);if(r=arguments,o=this,c=t,n){if(void 0===a)return function(t){return l=t,a=setTimeout(h,e),s?b(t):f}(c);if(v)return a=setTimeout(h,e),b(c)}return void 0===a&&(a=setTimeout(h,e)),f}return e=O(e)||0,j(i)&&(s=!!i.leading,u=(v="maxWait"in i)?y(O(i.maxWait)||0,e):u,p="trailing"in i?!!i.trailing:p),T.cancel=function(){void 0!==a&&clearTimeout(a),l=0,r=c=o=a=void 0},T.flush=function(){return void 0===a?f:x(m())},T}function g(t,e,i){var r=!0,o=!0;if("function"!=typeof t)throw new TypeError(n);return j(i)&&(r="leading"in i?!!i.leading:r,o="trailing"in i?!!i.trailing:o),b(t,e,{leading:r,maxWait:e,trailing:o})}function j(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function h(t){return!!t&&"object"==typeof t}function x(t){return"symbol"==typeof t||h(t)&&p.call(t)==i}function O(t){if("number"==typeof t)return t;if(x(t))return e;if(j(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=j(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var i=u.test(t);return i||f.test(t)?a(t.slice(2),i?2:8):o.test(t)?e:+t}module.exports=g;
},{}],"X/Dq":[function(require,module,exports) {
module.exports={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};
},{}],"MDlM":[function(require,module,exports) {
var t=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},a=require("lodash.throttle"),e=require("classnames"),r=require("./StatusBarStates"),s=require("preact"),l=s.h;function n(t){var a=[];Object.keys(t).forEach(function(e){var r=t[e].progress;r.preprocess&&a.push(r.preprocess),r.postprocess&&a.push(r.postprocess)});var e=a[0];return{mode:e.mode,message:e.message,value:a.filter(function(t){return"determinate"===t.mode}).reduce(function(t,a,e,r){return t+a.value/r.length},0)}}function u(t){if(!t.isAllComplete)return t.resumableUploads?t.isAllPaused?t.resumeAll():t.pauseAll():t.cancelAll()}module.exports=function(a){var s=(a=a||{}).uploadState,u=a.totalProgress,c=void 0,y=void 0;if(s===r.STATE_PREPROCESSING||s===r.STATE_POSTPROCESSING){var v=n(a.files);"determinate"===(c=v.mode)&&(u=100*v.value),y=d(v)}else s===r.STATE_COMPLETE?y=S(a):s===r.STATE_UPLOADING?y=h(a):s===r.STATE_ERROR&&(u=void 0,y=m(a));var B="number"==typeof u?u:100,T=s===r.STATE_WAITING&&a.hideUploadButton||s===r.STATE_WAITING&&!a.newFiles>0||s===r.STATE_COMPLETE&&a.hideAfterFinish,f="uppy-StatusBar-progress\n                           "+(c?"is-"+c:""),A=e({"uppy-Root":a.isTargetDOMEl},"uppy-StatusBar","is-"+s,{"uppy-StatusBar--detailedProgress":a.showProgressDetails});return l("div",{class:A,"aria-hidden":T},l("div",{class:f,style:{width:B+"%"},role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":u}),y,l("div",{class:"uppy-StatusBar-actions"},a.newFiles&&!a.hideUploadButton?l(i,t({},a,{uploadState:s})):null,a.error&&!a.hideRetryButton?l(o,a):null,a.hidePauseResumeCancelButtons||s===r.STATE_WAITING||s===r.STATE_COMPLETE?null:l(p,a)))};var i=function(t){var a=e("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":t.uploadState===r.STATE_WAITING});return l("button",{type:"button",class:a,"aria-label":t.i18n("uploadXFiles",{smart_count:t.newFiles}),onclick:t.startUpload},t.newFiles&&t.uploadStarted?t.i18n("uploadXNewFiles",{smart_count:t.newFiles}):t.i18n("uploadXFiles",{smart_count:t.newFiles}))},o=function(t){return l("button",{type:"button",class:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":t.i18n("retryUpload"),onclick:t.retryAll},t.i18n("retry"))},p=function(t){return l("button",{type:"button",class:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--cancel","aria-label":t.i18n("cancel"),onclick:t.cancelAll},t.i18n("cancel"))},c=function(t){var a=t.resumableUploads,e=t.isAllPaused,r=t.i18n,s=r(a?e?"resumeUpload":"pauseUpload":"cancelUpload");return l("button",{title:s,class:"uppy-u-reset uppy-StatusBar-statusIndicator",type:"button",onclick:function(){return u(t)}},a?e?l("svg",{"aria-hidden":"true",class:"UppyIcon",width:"15",height:"17",viewBox:"0 0 11 13"},l("path",{d:"M1.26 12.534a.67.67 0 0 1-.674.012.67.67 0 0 1-.336-.583v-11C.25.724.38.5.586.382a.658.658 0 0 1 .673.012l9.165 5.5a.66.66 0 0 1 .325.57.66.66 0 0 1-.325.573l-9.166 5.5z"})):l("svg",{"aria-hidden":"true",class:"UppyIcon",width:"16",height:"17",viewBox:"0 0 12 13"},l("path",{d:"M4.888.81v11.38c0 .446-.324.81-.722.81H2.722C2.324 13 2 12.636 2 12.19V.81c0-.446.324-.81.722-.81h1.444c.398 0 .722.364.722.81zM9.888.81v11.38c0 .446-.324.81-.722.81H7.722C7.324 13 7 12.636 7 12.19V.81c0-.446.324-.81.722-.81h1.444c.398 0 .722.364.722.81z"})):l("svg",{"aria-hidden":"true",class:"UppyIcon",width:"16px",height:"16px",viewBox:"0 0 19 19"},l("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"})))},d=function(t){var a=Math.round(100*t.value);return l("div",{class:"uppy-StatusBar-content"},"determinate"===t.mode?a+"% · ":"",t.message)},y=function(t){return l("div",{class:"uppy-StatusBar-statusSecondary"},t.numUploads>1&&t.i18n("filesUploadedOfTotal",{complete:t.complete,smart_count:t.numUploads})+" · ",t.i18n("dataUploadedOfTotal",{complete:t.totalUploadedSize,total:t.totalSize})+" · ",t.i18n("xTimeLeft",{time:t.totalETA}))},v=a(y,500,{leading:!0,trailing:!0}),h=function(t){if(!t.isUploadStarted||t.isAllComplete)return null;var a=t.isAllPaused?t.i18n("paused"):t.i18n("uploading");return l("div",{class:"uppy-StatusBar-content","aria-label":a,title:a},!t.hidePauseResumeCancelButtons&&l(c,t),l("div",{class:"uppy-StatusBar-status"},l("div",{class:"uppy-StatusBar-statusPrimary"},a,": ",t.totalProgress,"%"),!t.isAllPaused&&l(v,t)))},S=function(t){t.totalProgress;var a=t.i18n;return l("div",{class:"uppy-StatusBar-content",role:"status",title:a("complete")},l("svg",{"aria-hidden":"true",class:"uppy-StatusBar-statusIndicator UppyIcon",width:"18",height:"17",viewBox:"0 0 23 17"},l("path",{d:"M8.944 17L0 7.865l2.555-2.61 6.39 6.525L20.41 0 23 2.645z"})),a("complete"))},m=function(t){var a=t.error,e=(t.retryAll,t.hideRetryButton),r=t.i18n;return l("div",{class:"uppy-StatusBar-content",role:"alert"},l("span",{class:"uppy-StatusBar-contentPadding"},r("uploadFailed"),"."),!e&&l("span",{class:"uppy-StatusBar-contentPadding"},r("pleasePressRetry")),l("span",{class:"uppy-StatusBar-details","aria-label":a,"data-microtip-position":"top","data-microtip-size":"large",role:"tooltip"},"?"))};
},{"lodash.throttle":"RgI1","classnames":"C7vi","./StatusBarStates":"X/Dq","preact":"BkKT"}],"NhRk":[function(require,module,exports) {
module.exports=function(e){if(!e.bytesUploaded)return 0;var t=new Date-e.uploadStarted;return e.bytesUploaded/(t/1e3)};
},{}],"ImzO":[function(require,module,exports) {
module.exports=function(e){return e.bytesTotal-e.bytesUploaded};
},{}],"wNM4":[function(require,module,exports) {
module.exports=function(o){return{hours:Math.floor(o/3600)%24,minutes:Math.floor(o/60)%60,seconds:Math.floor(o%60)}};
},{}],"JkBd":[function(require,module,exports) {
var s=require("./secondsToTime");module.exports=function(r){var e=s(r),u=e.hours?e.hours+"h ":"",o=e.hours?("0"+e.minutes).substr(-2):e.minutes;return""+u+(o?o+"m ":"")+((o?("0"+e.seconds).substr(-2):e.seconds)+"s")};
},{"./secondsToTime":"wNM4"}],"+x4N":[function(require,module,exports) {
var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=require("@uppy/core"),l=s.Plugin,a=require("@uppy/utils/lib/Translator"),n=require("./StatusBar"),p=require("./StatusBarStates"),i=require("@uppy/utils/lib/getSpeed"),u=require("@uppy/utils/lib/getBytesRemaining"),d=require("@uppy/utils/lib/prettyETA"),c=require("prettier-bytes");module.exports=function(s){function l(o,n){t(this,l);var p=r(this,s.call(this,o,n));p.id=p.opts.id||"StatusBar",p.title="StatusBar",p.type="progressindicator";var i={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",pleasePressRetry:"Please press Retry to upload again",paused:"Paused",error:"Error",retry:"Retry",cancel:"Cancel",pressToRetry:"Press to retry",retryUpload:"Retry upload",resumeUpload:"Resume upload",cancelUpload:"Cancel upload",pauseUpload:"Pause upload",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"}}},u={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeCancelButtons:!1,showProgressDetails:!1,locale:i,hideAfterFinish:!0};return p.opts=e({},u,n),p.locale=e({},i,p.opts.locale),p.locale.strings=e({},i.strings,p.opts.locale.strings),p.translator=new a({locale:p.locale}),p.i18n=p.translator.translate.bind(p.translator),p.startUpload=p.startUpload.bind(p),p.render=p.render.bind(p),p.install=p.install.bind(p),p}return o(l,s),l.prototype.getTotalSpeed=function(e){var t=0;return e.forEach(function(e){t+=i(e.progress)}),t},l.prototype.getTotalETA=function(e){var t=this.getTotalSpeed(e);if(0===t)return 0;var r=e.reduce(function(e,t){return e+u(t.progress)},0);return Math.round(r/t*10)/10},l.prototype.startUpload=function(){var e=this;return this.uppy.upload().catch(function(t){e.uppy.log(t.stack||t.message||t)})},l.prototype.getUploadingState=function(e,t,r){if(e)return p.STATE_ERROR;if(t)return p.STATE_COMPLETE;for(var o=p.STATE_WAITING,s=Object.keys(r),l=0;l<s.length;l++){var a=r[s[l]].progress;if(a.uploadStarted&&!a.uploadComplete)return p.STATE_UPLOADING;a.preprocess&&o!==p.STATE_UPLOADING&&(o=p.STATE_PREPROCESSING),a.postprocess&&o!==p.STATE_UPLOADING&&o!==p.STATE_PREPROCESSING&&(o=p.STATE_POSTPROCESSING)}return o},l.prototype.render=function(e){var t=e.files,r=Object.keys(t).filter(function(e){return t[e].progress.uploadStarted}),o=Object.keys(t).filter(function(e){return!t[e].progress.uploadStarted&&!t[e].progress.preprocess&&!t[e].progress.postprocess}),s=Object.keys(t).filter(function(e){return t[e].progress.uploadComplete}),l=Object.keys(t).filter(function(e){return t[e].error}),a=Object.keys(t).filter(function(e){return!t[e].progress.uploadComplete&&t[e].progress.uploadStarted&&!t[e].isPaused}),p=Object.keys(t).filter(function(e){return t[e].progress.uploadStarted||t[e].progress.preprocess||t[e].progress.postprocess}),i=Object.keys(t).filter(function(e){return t[e].progress.preprocess||t[e].progress.postprocess}),u=a.map(function(e){return t[e]}),f=c(this.getTotalSpeed(u)),h=d(this.getTotalETA(u)),g=0,y=0;u.forEach(function(e){g+=e.progress.bytesTotal||0,y+=e.progress.bytesUploaded||0}),g=c(g),y=c(y);var T=r.length>0,S=100===e.totalProgress&&s.length===Object.keys(t).length&&0===i.length,b=T&&l.length===r.length,m=0===a.length&&!S&&!b&&r.length>0,A=e.capabilities.resumableUploads||!1;return n({error:e.error,uploadState:this.getUploadingState(b,S,e.files||{}),totalProgress:e.totalProgress,totalSize:g,totalUploadedSize:y,uploadStarted:r.length,isAllComplete:S,isAllPaused:m,isAllErrored:b,isUploadStarted:T,complete:s.length,newFiles:o.length,numUploads:p.length,totalSpeed:f,totalETA:h,files:e.files,i18n:this.i18n,pauseAll:this.uppy.pauseAll,resumeAll:this.uppy.resumeAll,retryAll:this.uppy.retryAll,cancelAll:this.uppy.cancelAll,startUpload:this.startUpload,resumableUploads:A,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeCancelButtons:this.opts.hidePauseResumeCancelButtons,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})},l.prototype.install=function(){var e=this.opts.target;e&&this.mount(e,this)},l.prototype.uninstall=function(){this.unmount()},l}(l);
},{"@uppy/core":"Fa4j","@uppy/utils/lib/Translator":"XnY4","./StatusBar":"MDlM","./StatusBarStates":"X/Dq","@uppy/utils/lib/getSpeed":"NhRk","@uppy/utils/lib/getBytesRemaining":"ImzO","@uppy/utils/lib/prettyETA":"JkBd","prettier-bytes":"nokW"}],"Gmr7":[function(require,module,exports) {
var t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t};function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var n=require("@uppy/core"),i=n.Plugin,a=require("preact"),p=a.h;module.exports=function(n){function i(o,a){e(this,i);var p=r(this,n.call(this,o,a));p.type="progressindicator",p.id=p.opts.id||"Informer",p.title="Informer";return p.opts=t({},{typeColors:{info:{text:"#fff",bg:"#000"},warning:{text:"#fff",bg:"#F6A623"},error:{text:"#fff",bg:"#D32F2F"},success:{text:"#fff",bg:"#1BB240"}}},a),p.render=p.render.bind(p),p}return o(i,n),i.prototype.render=function(t){var e=t.info,r=e.isHidden,o=e.message,n=e.details;return p("div",{class:"uppy uppy-Informer","aria-hidden":r},p("p",{role:"alert"},o," ",n&&p("span",{"aria-label":n,"data-microtip-position":"top","data-microtip-size":"large",role:"tooltip"},"?")))},i.prototype.install=function(){var t=this.opts.target;t&&this.mount(t,this)},i}(i);
},{"@uppy/core":"Fa4j","preact":"BkKT"}],"R/FX":[function(require,module,exports) {
module.exports=function(e,t,n){var l=e.split(",")[1],r=t.mimeType||e.split(",")[0].split(":")[1].split(";")[0];null==r&&(r="plain/text");for(var i=atob(l),p=[],a=0;a<i.length;a++)p.push(i.charCodeAt(a));return n?new File([new Uint8Array(p)],t.name||"",{type:r}):new Blob([new Uint8Array(p)],{type:r})};
},{}],"8gPW":[function(require,module,exports) {
module.exports=function(t){if(!t)return!1;var e=t.split("/")[1];return!!/^(jpeg|gif|png|svg|svg\+xml|bmp)$/.test(e)};
},{}],"+9br":[function(require,module,exports) {
var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e};function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=require("@uppy/core"),i=n.Plugin,u=require("@uppy/utils/lib/dataURItoBlob"),a=require("@uppy/utils/lib/isPreviewSupported");module.exports=function(n){function i(r,u){t(this,i);var a=o(this,n.call(this,r,u));a.type="thumbnail",a.id=a.opts.id||"ThumbnailGenerator",a.title="Thumbnail Generator",a.queue=[],a.queueProcessing=!1;return a.opts=e({},{thumbnailWidth:200},u),a.addToQueue=a.addToQueue.bind(a),a.onRestored=a.onRestored.bind(a),a}return r(i,n),i.prototype.createThumbnail=function(e,t){var o=this,r=URL.createObjectURL(e.data);return new Promise(function(e,t){var o=new Image;o.src=r,o.onload=function(){URL.revokeObjectURL(r),e(o)},o.onerror=function(){URL.revokeObjectURL(r),t(new Error("Could not create thumbnail"))}}).then(function(e){var r=o.getProportionalHeight(e,t),n=o.resizeImage(e,t,r);return o.canvasToBlob(n,"image/png")}).then(function(e){return URL.createObjectURL(e)})},i.prototype.protect=function(e){var t=e.width/e.height,o=Math.floor(Math.sqrt(5e6*t)),r=Math.floor(5e6/Math.sqrt(5e6*t));if(o>4096&&(o=4096,r=Math.round(o/t)),r>4096&&(r=4096,o=Math.round(t*r)),e.width>o){var n=document.createElement("canvas");n.width=o,n.height=r,n.getContext("2d").drawImage(e,0,0,o,r),e=n}return e},i.prototype.resizeImage=function(e,t,o){e=this.protect(e);var r=Math.ceil(Math.log(e.width/t)*Math.LOG2E);r<1&&(r=1);for(var n=t*Math.pow(2,r-1),i=o*Math.pow(2,r-1);r--;){var u=document.createElement("canvas");u.width=n,u.height=i,u.getContext("2d").drawImage(e,0,0,n,i),e=u,n=Math.round(n/2),i=Math.round(i/2)}return e},i.prototype.canvasToBlob=function(e,t,o){return e.toBlob?new Promise(function(r){e.toBlob(r,t,o)}):Promise.resolve().then(function(){return u(e.toDataURL(t,o),{})})},i.prototype.getProportionalHeight=function(e,t){var o=e.width/e.height;return Math.round(t/o)},i.prototype.setPreviewURL=function(e,t){this.uppy.setFileState(e,{preview:t})},i.prototype.addToQueue=function(e){this.queue.push(e),!1===this.queueProcessing&&this.processQueue()},i.prototype.processQueue=function(){var e=this;if(this.queueProcessing=!0,this.queue.length>0){var t=this.queue.shift();return this.requestThumbnail(t).catch(function(e){}).then(function(){return e.processQueue()})}this.queueProcessing=!1},i.prototype.requestThumbnail=function(e){var t=this;return a(e.type)&&!e.isRemote?this.createThumbnail(e,this.opts.thumbnailWidth).then(function(o){t.setPreviewURL(e.id,o)}).catch(function(e){console.warn(e.stack||e.message)}):Promise.resolve()},i.prototype.onRestored=function(){var e=this;Object.keys(this.uppy.getState().files).forEach(function(t){var o=e.uppy.getFile(t);o.isRestored&&(o.preview&&!/^blob:/.test(o.preview)||e.addToQueue(o))})},i.prototype.install=function(){this.uppy.on("file-added",this.addToQueue),this.uppy.on("restored",this.onRestored)},i.prototype.uninstall=function(){this.uppy.off("file-added",this.addToQueue),this.uppy.off("restored",this.onRestored)},i}(i);
},{"@uppy/core":"Fa4j","@uppy/utils/lib/dataURItoBlob":"R/FX","@uppy/utils/lib/isPreviewSupported":"8gPW"}],"9On8":[function(require,module,exports) {
var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},t=require("./isDOMElement");module.exports=function(e){if("string"==typeof e){var n=[].slice.call(document.querySelectorAll(e));return n.length>0?n:null}if("object"===(void 0===e?"undefined":o(e))&&t(e))return[e]};
},{"./isDOMElement":"2Hy4"}],"00OX":[function(require,module,exports) {
module.exports=function(r){return Array.prototype.slice.call(r||[],0)};
},{}],"cu/3":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some(function(t,r){return t[0]===e&&(n=r,!0)}),n}return function(){function e(){this.__entries__=[]}var n={size:{configurable:!0}};return n.size.get=function(){return this.__entries__.length},e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n+=1){var i=r[n];t.call(e,i[1],i[0])}},Object.defineProperties(e.prototype,n),e}()}(),n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},o=2,s=function(t,e){var n=!1,r=!1,s=0;function a(){n&&(n=!1,t()),r&&h()}function c(){i(a)}function h(){var t=Date.now();if(n){if(t-s<o)return;r=!0}else n=!0,r=!1,setTimeout(c,e);s=t}return h},a=20,c=["top","right","bottom","left","width","height","size","weight"],h="undefined"!=typeof MutationObserver,u=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=s(this.refresh.bind(this),a)};u.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},u.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},u.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},u.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},u.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),h?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},u.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},u.prototype.onTransitionEnd_=function(t){var e=t.propertyName;void 0===e&&(e=""),c.some(function(t){return!!~e.indexOf(t)})&&this.refresh()},u.getInstance=function(){return this.instance_||(this.instance_=new u),this.instance_},u.instance_=null;var f=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n+=1){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},d=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||r},v=E(0,0,0,0);function p(t){return parseFloat(t)||0}function _(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return e.reduce(function(e,n){return e+p(t["border-"+n+"-width"])},0)}function l(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n+=1){var i=r[n],o=t["padding-"+i];e[i]=p(o)}return e}function b(t){var e=t.getBBox();return E(0,0,e.width,e.height)}function m(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return v;var r=d(t).getComputedStyle(t),i=l(r),o=i.left+i.right,s=i.top+i.bottom,a=p(r.width),c=p(r.height);if("border-box"===r.boxSizing&&(Math.round(a+o)!==e&&(a-=_(r,"left","right")+o),Math.round(c+s)!==n&&(c-=_(r,"top","bottom")+s)),!w(t)){var h=Math.round(a+o)-e,u=Math.round(c+s)-n;1!==Math.abs(h)&&(a-=h),1!==Math.abs(u)&&(c-=u)}return E(i.left,i.top,a,c)}var y="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof d(t).SVGGraphicsElement}:function(t){return t instanceof d(t).SVGElement&&"function"==typeof t.getBBox};function w(t){return t===d(t).document.documentElement}function g(t){return n?y(t)?b(t):m(t):v}function O(t){var e=t.x,n=t.y,r=t.width,i=t.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(o.prototype);return f(s,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),s}function E(t,e,n,r){return{x:t,y:e,width:n,height:r}}var M=function(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=E(0,0,0,0),this.target=t};M.prototype.isActive=function(){var t=g(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},M.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t};var A=function(t,e){var n=O(e);f(this,{target:t,contentRect:n})},x=function(t,n,r){if(this.activeObservations_=[],this.observations_=new e,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=r};x.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof d(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new M(t)),this.controller_.addObserver(this),this.controller_.refresh())}},x.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof d(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},x.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},x.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},x.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new A(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},x.prototype.clearActive=function(){this.activeObservations_.splice(0)},x.prototype.hasActive=function(){return this.activeObservations_.length>0};var T="undefined"!=typeof WeakMap?new WeakMap:new e,R=function(t){if(!(this instanceof R))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=u.getInstance(),n=new x(t,e,this);T.set(this,n)};["observe","unobserve","disconnect"].forEach(function(t){R.prototype[t]=function(){return(e=T.get(this))[t].apply(e,arguments);var e}});var z=void 0!==r.ResizeObserver?r.ResizeObserver:R,D=z;exports.default=D;
},{}],"fMd0":[function(require,module,exports) {
var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e};function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=require("@uppy/core"),n=s.Plugin,a=require("@uppy/utils/lib/Translator"),r=require("drag-drop"),l=require("./components/Dashboard"),d=require("@uppy/status-bar"),p=require("@uppy/informer"),u=require("@uppy/thumbnail-generator"),h=require("@uppy/utils/lib/findAllDOMElements"),c=require("@uppy/utils/lib/toArray"),f=require("prettier-bytes"),g=require("resize-observer-polyfill").default||require("resize-observer-polyfill"),y=require("./components/icons"),m=y.defaultTabIcon,b=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'],v=9,P=27;module.exports=function(s){function n(o,r){t(this,n);var l=i(this,s.call(this,o,r));l.id=l.opts.id||"Dashboard",l.title="Dashboard",l.type="orchestrator",l.modalName="uppy-Dashboard";var d={strings:{selectToUpload:"Select files to upload",closeModal:"Close Modal",upload:"Upload",importFrom:"Import from %{name}",addingMoreFiles:"Adding more files",addMoreFiles:"Add more files",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",fileSource:"File source: %{name}",done:"Done",back:"Back",name:"Name",removeFile:"Remove file",editFile:"Edit file",editing:"Editing %{file}",edit:"Edit",finishEditingFile:"Finish editing file",saveChanges:"Save changes",cancel:"Cancel",localDisk:"Local Disk",myDevice:"My Device",dropPasteImport:"Drop files here, paste, %{browse} or import from",dropPaste:"Drop files here, paste or %{browse}",browse:"browse",fileProgress:"File progress: upload speed and ETA",numberOfSelectedFiles:"Number of selected files",uploadAllNewFiles:"Upload all new files",emptyFolderAdded:"No files were added from empty folder",uploadComplete:"Upload complete",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}},p={target:"body",metaFields:[],trigger:"#uppy-select-files",inline:!1,width:750,height:550,thumbnailWidth:280,defaultTabIcon:m,showLinkToFileUploadResult:!0,showProgressDetails:!1,hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeCancelButtons:!1,hideProgressAfterFinish:!1,note:null,closeModalOnClickOutside:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:function(){return l.closeModal()},showSelectedFiles:!0,locale:d,browserBackButtonClose:!1};return l.opts=e({},p,r),l.locale=e({},d,l.opts.locale),l.locale.strings=e({},d.strings,l.opts.locale.strings),l.translator=new a({locale:l.locale}),l.i18n=l.translator.translate.bind(l.translator),l.i18nArray=l.translator.translateArray.bind(l.translator),l.openModal=l.openModal.bind(l),l.closeModal=l.closeModal.bind(l),l.requestCloseModal=l.requestCloseModal.bind(l),l.isModalOpen=l.isModalOpen.bind(l),l.addTarget=l.addTarget.bind(l),l.removeTarget=l.removeTarget.bind(l),l.hideAllPanels=l.hideAllPanels.bind(l),l.showPanel=l.showPanel.bind(l),l.getFocusableNodes=l.getFocusableNodes.bind(l),l.setFocusToFirstNode=l.setFocusToFirstNode.bind(l),l.handlePopState=l.handlePopState.bind(l),l.maintainFocus=l.maintainFocus.bind(l),l.initEvents=l.initEvents.bind(l),l.onKeydown=l.onKeydown.bind(l),l.handleClickOutside=l.handleClickOutside.bind(l),l.toggleFileCard=l.toggleFileCard.bind(l),l.toggleAddFilesPanel=l.toggleAddFilesPanel.bind(l),l.handleDrop=l.handleDrop.bind(l),l.handlePaste=l.handlePaste.bind(l),l.handleInputChange=l.handleInputChange.bind(l),l.render=l.render.bind(l),l.install=l.install.bind(l),l}return o(n,s),n.prototype.removeTarget=function(e){var t=this.getPluginState().targets.filter(function(t){return t.id!==e.id});this.setPluginState({targets:t})},n.prototype.addTarget=function(e){var t=e.id||e.constructor.name,i=e.title||t,o=e.type;if("acquirer"===o||"progressindicator"===o||"presenter"===o){var s={id:t,name:i,type:o},n=this.getPluginState().targets.slice();return n.push(s),this.setPluginState({targets:n}),this.el}this.uppy.log("Dashboard: Modal can only be used by plugins of types: acquirer, progressindicator, presenter")},n.prototype.hideAllPanels=function(){this.setPluginState({activePanel:!1,showAddFilesPanel:!1})},n.prototype.showPanel=function(e){var t=this.getPluginState().targets.filter(function(t){return"acquirer"===t.type&&t.id===e})[0];this.setPluginState({activePanel:t})},n.prototype.requestCloseModal=function(){if(this.opts.onRequestCloseModal)return this.opts.onRequestCloseModal();this.closeModal()},n.prototype.getFocusableNodes=function(){var e=this.el.querySelectorAll(b);return Object.keys(e).map(function(t){return e[t]})},n.prototype.setFocusToFirstNode=function(){var e=this.getFocusableNodes();e.length&&e[0].focus()},n.prototype.updateBrowserHistory=function(){var e;history.state&&history.state[this.modalName]||history.pushState(((e={})[this.modalName]=!0,e),"");window.addEventListener("popstate",this.handlePopState,!1)},n.prototype.handlePopState=function(e){e.state&&e.state[this.modalName]||this.closeModal({manualClose:!1}),!this.isModalOpen()&&e.state&&e.state[this.modalName]&&history.go(-1)},n.prototype.setFocusToBrowse=function(){var e=this.el.querySelector(".uppy-Dashboard-browse");e&&e.focus()},n.prototype.maintainFocus=function(e){var t=this.getFocusableNodes(),i=t.indexOf(document.activeElement);e.shiftKey&&0===i&&(t[t.length-1].focus(),e.preventDefault()),e.shiftKey||i!==t.length-1||(t[0].focus(),e.preventDefault())},n.prototype.openModal=function(){var e=this;if(this.savedScrollPosition=window.scrollY,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){this.el.addEventListener("animationend",function t(){e.setPluginState({isHidden:!1}),e.el.removeEventListener("animationend",t,!1)},!1)}else this.setPluginState({isHidden:!1});this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.onKeydown),this.setFocusToBrowse()},n.prototype.closeModal=function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).manualClose,i=void 0===t||t;if(this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.opts.animateOpenClose){this.setPluginState({isClosing:!0});this.el.addEventListener("animationend",function t(){e.setPluginState({isHidden:!0,isClosing:!1}),e.el.removeEventListener("animationend",t,!1)},!1)}else this.setPluginState({isHidden:!0});document.removeEventListener("keydown",this.onKeydown),this.savedActiveElement.focus(),i&&this.opts.browserBackButtonClose&&history.state&&history.state[this.modalName]&&history.go(-1)},n.prototype.isModalOpen=function(){return!this.getPluginState().isHidden||!1},n.prototype.onKeydown=function(e){e.keyCode===P&&this.requestCloseModal(e),e.keyCode===v&&this.maintainFocus(e)},n.prototype.handleClickOutside=function(){this.opts.closeModalOnClickOutside&&this.requestCloseModal()},n.prototype.handlePaste=function(e){var t=this;c(e.clipboardData.items).forEach(function(e){if("file"===e.kind){var i=e.getAsFile();if(!i)return t.uppy.log("[Dashboard] File pasted, but the file blob is empty"),void t.uppy.info("Error pasting file","error");t.uppy.log("[Dashboard] File pasted");try{t.uppy.addFile({source:t.id,name:e.name,type:e.type,data:i})}catch(o){}}})},n.prototype.handleInputChange=function(e){var t=this;e.preventDefault(),c(e.target.files).forEach(function(e){try{t.uppy.addFile({source:t.id,name:e.name,type:e.type,data:e})}catch(i){}})},n.prototype.initEvents=function(){var e=this,t=h(this.opts.trigger);!this.opts.inline&&t&&t.forEach(function(t){return t.addEventListener("click",e.openModal)}),this.opts.inline||t||this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options unless you are planning to call openModal() method yourself"),this.removeDragDropListener=r(this.el,function(t){e.handleDrop(t)}),this.ro=new g(function(t,i){var o=t,s=Array.isArray(o),n=0;for(o=s?o:o[Symbol.iterator]();;){var a;if(s){if(n>=o.length)break;a=o[n++]}else{if((n=o.next()).done)break;a=n.value}var r=a.contentRect,l=r.width,d=r.height;e.uppy.log("[Dashboard] resized: "+l+" / "+d),e.setPluginState({containerWidth:l,containerHeight:d})}}),this.ro.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",function(t){e.toggleAddFilesPanel(!1),e.hideAllPanels()})},n.prototype.removeEvents=function(){var e=this,t=h(this.opts.trigger);!this.opts.inline&&t&&t.forEach(function(t){return t.removeEventListener("click",e.openModal)}),this.ro.unobserve(this.el.querySelector(".uppy-Dashboard-inner")),this.removeDragDropListener(),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",function(t){return e.toggleAddFilesPanel(!1)})},n.prototype.toggleFileCard=function(e){this.setPluginState({fileCardFor:e||!1})},n.prototype.toggleAddFilesPanel=function(e){this.setPluginState({showAddFilesPanel:e})},n.prototype.handleDrop=function(e){var t=this;this.uppy.log("[Dashboard] Files were dropped"),e.forEach(function(e){try{t.uppy.addFile({source:t.id,name:e.name,type:e.type,data:e})}catch(i){}})},n.prototype.render=function(t){var i=this,o=this.getPluginState(),s=t.files,n=t.capabilities,a=Object.keys(s).filter(function(e){return!s[e].progress.uploadStarted}),r=Object.keys(s).filter(function(e){return!s[e].progress.uploadComplete&&s[e].progress.uploadStarted&&!s[e].isPaused}),d=[];r.forEach(function(e){d.push(s[e])});var p=0,u=0;d.forEach(function(e){p+=e.progress.bytesTotal||0,u+=e.progress.bytesUploaded||0}),p=f(p),u=f(u);var h=function(t){var o=i.uppy.getPlugin(t.id);return e({},t,{icon:o.icon||i.opts.defaultTabIcon,render:o.render})},c=o.targets.filter(function(e){return"acquirer"===e.type&&function(e){var t=i.uppy.getPlugin(e.id);return"function"!=typeof t.isSupported||t.isSupported()}(e)}).map(h),g=o.targets.filter(function(e){return"progressindicator"===e.type}).map(h);return l({state:t,modal:o,newFiles:a,files:s,totalFileCount:Object.keys(s).length,totalProgress:t.totalProgress,acquirers:c,activePanel:o.activePanel,animateOpenClose:this.opts.animateOpenClose,isClosing:o.isClosing,getPlugin:this.uppy.getPlugin,progressindicators:g,autoProceed:this.uppy.opts.autoProceed,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeCancelButtons:this.opts.hidePauseResumeCancelButtons,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,log:this.uppy.log,i18n:this.i18n,i18nArray:this.i18nArray,addFile:this.uppy.addFile,removeFile:this.uppy.removeFile,info:this.uppy.info,note:this.opts.note,metaFields:o.metaFields,resumableUploads:n.resumableUploads||!1,bundled:n.bundled||!1,startUpload:function(e){i.uppy.upload().catch(function(e){i.uppy.log(e.stack||e.message||e)})},pauseUpload:this.uppy.pauseResume,retryUpload:this.uppy.retryUpload,cancelUpload:function(e){i.uppy.emit("upload-cancel",e),i.uppy.removeFile(e)},cancelAll:this.uppy.cancelAll,fileCardFor:o.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:o.showAddFilesPanel,saveFileCard:function(e,t){i.uppy.setFileMeta(t,e),i.toggleFileCard()},width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,currentWidth:o.containerWidth,isWide:o.containerWidth>400,containerWidth:o.containerWidth,isTargetDOMEl:this.isTargetDOMEl,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,showSelectedFiles:this.opts.showSelectedFiles})},n.prototype.discoverProviderPlugins=function(){var e=this;this.uppy.iteratePlugins(function(t){t&&!t.target&&t.opts&&t.opts.target===e.constructor&&e.addTarget(t)})},n.prototype.install=function(){var e=this;this.setPluginState({isHidden:!0,showFileCard:!1,showAddFilesPanel:!1,activePanel:!1,metaFields:this.opts.metaFields,targets:[]});var t=this.opts.target;t&&this.mount(t,this),(this.opts.plugins||[]).forEach(function(t){var i=e.uppy.getPlugin(t);i&&i.mount(e,i)}),this.opts.disableStatusBar||this.uppy.use(d,{id:this.id+":StatusBar",target:this,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeCancelButtons:this.opts.hidePauseResumeCancelButtons,showProgressDetails:this.opts.showProgressDetails,hideAfterFinish:this.opts.hideProgressAfterFinish,locale:this.opts.locale}),this.opts.disableInformer||this.uppy.use(p,{id:this.id+":Informer",target:this}),this.opts.disableThumbnailGenerator||this.uppy.use(u,{id:this.id+":ThumbnailGenerator",thumbnailWidth:this.opts.thumbnailWidth}),this.discoverProviderPlugins(),this.initEvents()},n.prototype.uninstall=function(){var e=this;if(!this.opts.disableInformer){var t=this.uppy.getPlugin(this.id+":Informer");t&&this.uppy.removePlugin(t)}if(!this.opts.disableStatusBar){var i=this.uppy.getPlugin(this.id+":StatusBar");i&&this.uppy.removePlugin(i)}if(!this.opts.disableThumbnailGenerator){var o=this.uppy.getPlugin(this.id+":ThumbnailGenerator");o&&this.uppy.removePlugin(o)}(this.opts.plugins||[]).forEach(function(t){var i=e.uppy.getPlugin(t);i&&i.unmount()}),this.unmount(),this.removeEvents()},n}(n);
},{"@uppy/core":"Fa4j","@uppy/utils/lib/Translator":"XnY4","drag-drop":"RIa0","./components/Dashboard":"Bp6c","@uppy/status-bar":"+x4N","@uppy/informer":"Gmr7","@uppy/thumbnail-generator":"+9br","@uppy/utils/lib/findAllDOMElements":"9On8","@uppy/utils/lib/toArray":"00OX","prettier-bytes":"nokW","resize-observer-polyfill":"cu/3","./components/icons":"R62E"}],"tJEr":[function(require,module,exports) {
"use strict";function e(e,t){return["tus",e.name,e.type,e.size,e.lastModified,t.endpoint].join("-")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"202y":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var o=function(o){function n(r){var o=arguments.length<=1||void 0===arguments[1]?null:arguments[1],s=arguments.length<=2||void 0===arguments[2]?null:arguments[2];e(this,n);var i=t(this,Object.getPrototypeOf(n).call(this,r.message));i.originalRequest=s,i.causingError=o;var u=r.message;return null!=o&&(u+=", caused by "+o.toString()),null!=s&&(u+=", originated from request (response code: "+s.status+", response text: "+s.responseText+")"),i.message=u,i}return r(n,Error),n}();exports.default=o;
},{}],"r49n":[function(require,module,exports) {
"use strict";var r=Object.prototype.hasOwnProperty,t=Object.prototype.toString,e=Object.defineProperty,o=Object.getOwnPropertyDescriptor,n=function(r){return"function"==typeof Array.isArray?Array.isArray(r):"[object Array]"===t.call(r)},c=function(e){if(!e||"[object Object]"!==t.call(e))return!1;var o,n=r.call(e,"constructor"),c=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!c)return!1;for(o in e);return void 0===o||r.call(e,o)},u=function(r,t){e&&"__proto__"===t.name?e(r,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):r[t.name]=t.newValue},a=function(t,e){if("__proto__"===e){if(!r.call(t,e))return;if(o)return o(t,e).value}return t[e]};module.exports=function r(){var t,e,o,l,i,f,p=arguments[0],y=1,s=arguments.length,b=!1;for("boolean"==typeof p&&(b=p,p=arguments[1]||{},y=2),(null==p||"object"!=typeof p&&"function"!=typeof p)&&(p={});y<s;++y)if(null!=(t=arguments[y]))for(e in t)o=a(p,e),p!==(l=a(t,e))&&(b&&l&&(c(l)||(i=n(l)))?(i?(i=!1,f=o&&n(o)?o:[]):f=o&&c(o)?o:{},u(p,{name:e,newValue:r(b,f,l)})):void 0!==l&&u(p,{name:e,newValue:l}));return p};
},{}],"tf8u":[function(require,module,exports) {
var define;
var e;!function(r,t){"function"==typeof e&&e.amd?e(t):"object"==typeof exports?module.exports=t():r.resolveUrl=t()}(this,function(){return function(){var e=arguments.length;if(0===e)throw new Error("resolveUrl requires at least one argument; got none.");var r=document.createElement("base");if(r.href=arguments[0],1===e)return r.href;var t=document.getElementsByTagName("head")[0];t.insertBefore(r,t.firstChild);for(var n,o=document.createElement("a"),a=1;a<e;a++)o.href=arguments[a],n=o.href,r.href=n;return t.removeChild(r),n}});
},{}],"M0W4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.newRequest=u,exports.resolveUrl=n;var e=require("resolve-url"),r=t(e);function t(e){return e&&e.__esModule?e:{default:e}}function u(){return new window.XMLHttpRequest}function n(e,t){return(0,r.default)(e,t)}
},{"resolve-url":"tf8u"}],"1fFE":[function(require,module,exports) {
"use strict";var e=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSource=r;var t=function(){function t(e){n(this,t),this._file=e,this.size=e.size}return e(t,[{key:"slice",value:function(e,n){return this._file.slice(e,n)}},{key:"close",value:function(){}}]),t}();function r(e){if("function"==typeof e.slice&&void 0!==e.size)return new t(e);throw new Error("source object may only be an instance of File or Blob in this environment")}
},{}],"vdox":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.encode=t;var e=window,o=e.btoa;function t(e){return o(unescape(encodeURIComponent(e)))}var n=exports.isSupported="btoa"in window;
},{}],"INSL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setItem=r,exports.getItem=a,exports.removeItem=c;var e=!1;try{e="localStorage"in window;var t="tusSupport";localStorage.setItem(t,localStorage.getItem(t))}catch(l){if(l.code!==l.SECURITY_ERR&&l.code!==l.QUOTA_EXCEEDED_ERR)throw l;e=!1}var o=exports.canStoreURLs=e;function r(t,o){if(e)return localStorage.setItem(t,o)}function a(t){if(e)return localStorage.getItem(t)}function c(t){if(e)return localStorage.removeItem(t)}
},{}],"iJdv":[function(require,module,exports) {
"use strict";var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}();Object.defineProperty(exports,"__esModule",{value:!0});var t=require("./fingerprint"),r=c(t),o=require("./error"),i=c(o),s=require("extend"),n=c(s),u=require("./node/request"),l=require("./node/source"),a=require("./node/base64"),p=d(a),f=require("./node/storage"),h=d(f);function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var m={endpoint:null,fingerprint:r.default,resume:!0,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,headers:{},chunkSize:1/0,withCredentials:!1,uploadUrl:null,uploadSize:null,overridePatchMethod:!1,retryDelays:null,removeFingerprintOnSuccess:!1},v=function(){function t(e,r){_(this,t),this.options=(0,n.default)(!0,{},m,r),this.file=e,this.url=null,this._xhr=null,this._fingerprint=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0}return e(t,[{key:"start",value:function(){var e=this,t=this.file;if(t)if(this.options.endpoint||this.options.uploadUrl){var r=this._source=(0,l.getSource)(t,this.options.chunkSize);if(null!=this.options.uploadSize){var o=+this.options.uploadSize;if(isNaN(o))throw new Error("tus: cannot convert `uploadSize` option into a number");this._size=o}else{if(null==(o=r.size))throw new Error("tus: cannot automatically derive upload's size from input and must be specified manually using the `uploadSize` option");this._size=o}var i,s=this.options.retryDelays;if(null!=s){if("[object Array]"!==Object.prototype.toString.call(s))throw new Error("tus: the `retryDelays` option must either be an array or null");i=e.options.onError,e.options.onError=function(t){e.options.onError=i,null!=e._offset&&e._offset>e._offsetBeforeRetry&&(e._retryAttempt=0);var r=!0;if("undefined"!=typeof window&&"navigator"in window&&!1===window.navigator.onLine&&(r=!1),e._retryAttempt<s.length&&null!=t.originalRequest&&!g(t.originalRequest.status,400)&&r){var o=s[e._retryAttempt++];e._offsetBeforeRetry=e._offset,e.options.uploadUrl=e.url,e._retryTimeout=setTimeout(function(){e.start()},o)}else e._emitError(t)}}if(this._aborted=!1,null==this.url){if(null!=this.options.uploadUrl)return this.url=this.options.uploadUrl,void this._resumeUpload();if(this.options.resume){this._fingerprint=this.options.fingerprint(t,this.options);var n=h.getItem(this._fingerprint);if(null!=n)return this.url=n,void this._resumeUpload()}this._createUpload()}else this._resumeUpload()}else this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));else this._emitError(new Error("tus: no file or stream to upload provided"))}},{key:"abort",value:function(){null!==this._xhr&&(this._xhr.abort(),this._source.close(),this._aborted=!0),null!=this._retryTimeout&&(clearTimeout(this._retryTimeout),this._retryTimeout=null)}},{key:"_emitXhrError",value:function(e,t,r){this._emitError(new i.default(t,r,e))}},{key:"_emitError",value:function(e){if("function"!=typeof this.options.onError)throw e;this.options.onError(e)}},{key:"_emitSuccess",value:function(){"function"==typeof this.options.onSuccess&&this.options.onSuccess()}},{key:"_emitProgress",value:function(e,t){"function"==typeof this.options.onProgress&&this.options.onProgress(e,t)}},{key:"_emitChunkComplete",value:function(e,t,r){"function"==typeof this.options.onChunkComplete&&this.options.onChunkComplete(e,t,r)}},{key:"_setupXHR",value:function(e){this._xhr=e,e.setRequestHeader("Tus-Resumable","1.0.0");var t=this.options.headers;for(var r in t)e.setRequestHeader(r,t[r]);e.withCredentials=this.options.withCredentials}},{key:"_createUpload",value:function(){var e=this;if(this.options.endpoint){var t=(0,u.newRequest)();t.open("POST",this.options.endpoint,!0),t.onload=function(){if(g(t.status,200)){var r=t.getResponseHeader("Location");if(null!=r){if(e.url=(0,u.resolveUrl)(e.options.endpoint,r),0===e._size)return e._emitSuccess(),void e._source.close();e.options.resume&&h.setItem(e._fingerprint,e.url),e._offset=0,e._startUpload()}else e._emitXhrError(t,new Error("tus: invalid or missing Location header"))}else e._emitXhrError(t,new Error("tus: unexpected response while creating upload"))},t.onerror=function(r){e._emitXhrError(t,new Error("tus: failed to create upload"),r)},this._setupXHR(t),t.setRequestHeader("Upload-Length",this._size);var r=y(this.options.metadata);""!==r&&t.setRequestHeader("Upload-Metadata",r),t.send(null)}else this._emitError(new Error("tus: unable to create upload because no endpoint is provided"))}},{key:"_resumeUpload",value:function(){var e=this,t=(0,u.newRequest)();t.open("HEAD",this.url,!0),t.onload=function(){if(!g(t.status,200))return e.options.resume&&g(t.status,400)&&h.removeItem(e._fingerprint),423===t.status?void e._emitXhrError(t,new Error("tus: upload is currently locked; retry later")):e.options.endpoint?(e.url=null,void e._createUpload()):void e._emitXhrError(t,new Error("tus: unable to resume upload (new upload cannot be created without an endpoint)"));var r=parseInt(t.getResponseHeader("Upload-Offset"),10);if(isNaN(r))e._emitXhrError(t,new Error("tus: invalid or missing offset value"));else{var o=parseInt(t.getResponseHeader("Upload-Length"),10);if(isNaN(o))e._emitXhrError(t,new Error("tus: invalid or missing length value"));else{if(r===o)return e._emitProgress(o,o),void e._emitSuccess();e._offset=r,e._startUpload()}}},t.onerror=function(r){e._emitXhrError(t,new Error("tus: failed to resume upload"),r)},this._setupXHR(t),t.send(null)}},{key:"_startUpload",value:function(){var e=this;if(!this._aborted){var t=(0,u.newRequest)();this.options.overridePatchMethod?(t.open("POST",this.url,!0),t.setRequestHeader("X-HTTP-Method-Override","PATCH")):t.open("PATCH",this.url,!0),t.onload=function(){if(g(t.status,200)){var r=parseInt(t.getResponseHeader("Upload-Offset"),10);if(isNaN(r))e._emitXhrError(t,new Error("tus: invalid or missing offset value"));else{if(e._emitProgress(r,e._size),e._emitChunkComplete(r-e._offset,r,e._size),e._offset=r,r==e._size)return e.options.removeFingerprintOnSuccess&&e.options.resume&&h.removeItem(e._fingerprint),e._emitSuccess(),void e._source.close();e._startUpload()}}else e._emitXhrError(t,new Error("tus: unexpected response while uploading chunk"))},t.onerror=function(r){e._aborted||e._emitXhrError(t,new Error("tus: failed to upload chunk at offset "+e._offset),r)},"upload"in t&&(t.upload.onprogress=function(t){t.lengthComputable&&e._emitProgress(r+t.loaded,e._size)}),this._setupXHR(t),t.setRequestHeader("Upload-Offset",this._offset),t.setRequestHeader("Content-Type","application/offset+octet-stream");var r=this._offset,o=this._offset+this.options.chunkSize;(o===1/0||o>this._size)&&(o=this._size),t.send(this._source.slice(r,o)),this._emitProgress(this._offset,this._size)}}}]),t}();function y(e){if(!p.isSupported)return"";var t=[];for(var r in e)t.push(r+" "+p.encode(e[r]));return t.join(",")}function g(e,t){return e>=t&&e<t+100}v.defaultOptions=m,exports.default=v;
},{"./fingerprint":"tJEr","./error":"202y","extend":"r49n","./node/request":"M0W4","./node/source":"1fFE","./node/base64":"vdox","./node/storage":"INSL"}],"OLMG":[function(require,module,exports) {
"use strict";var e=require("./upload"),t=u(e),o=require("./node/storage");function u(e){return e&&e.__esModule?e:{default:e}}var r=t.default.defaultOptions;if("undefined"!=typeof window)var d=window,n=d.XMLHttpRequest,a=d.Blob,i=n&&a&&"function"==typeof a.prototype.slice;else i=!0;module.exports={Upload:t.default,isSupported:i,canStoreURLs:o.canStoreURLs,defaultOptions:r};
},{"./upload":"iJdv","./node/storage":"INSL"}],"0RVx":[function(require,module,exports) {
"use strict";var t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){return t.replace(/\/$/,"")}module.exports=function(){function o(t,e){n(this,o),this.uppy=t,this.opts=e,this.onReceiveResponse=this.onReceiveResponse.bind(this)}return o.prototype.onReceiveResponse=function(e){var n,r=this.uppy.getState().companion||{},o=this.opts.serverUrl,s=e.headers;s.has("i-am")&&s.get("i-am")!==r[o]&&this.uppy.setState({companion:t({},r,(n={},n[o]=s.get("i-am"),n))});return e},o.prototype._getUrl=function(t){return/^(https?:|)\/\//.test(t)?t:this.hostname+"/"+t},o.prototype.get=function(t){var e=this;return fetch(this._getUrl(t),{method:"get",headers:this.headers,credentials:"same-origin"}).then(this.onReceiveResponse).then(function(t){return t.json()}).catch(function(n){throw new Error("Could not get "+e._getUrl(t)+". "+n)})},o.prototype.post=function(t,e){var n=this;return fetch(this._getUrl(t),{method:"post",headers:this.headers,credentials:"same-origin",body:JSON.stringify(e)}).then(this.onReceiveResponse).then(function(e){if(e.status<200||e.status>300)throw new Error("Could not post "+n._getUrl(t)+". "+e.statusText);return e.json()}).catch(function(e){throw new Error("Could not post "+n._getUrl(t)+". "+e)})},o.prototype.delete=function(t,e){var n=this;return fetch(this.hostname+"/"+t,{method:"delete",headers:this.headers,credentials:"same-origin",body:e?JSON.stringify(e):null}).then(this.onReceiveResponse).then(function(t){return t.json()}).catch(function(e){throw new Error("Could not delete "+n._getUrl(t)+". "+e)})},e(o,[{key:"hostname",get:function(){var t=this.uppy.getState().companion,e=this.opts.serverUrl;return r(t&&t[e]?t[e]:e)}},{key:"defaultHeaders",get:function(){return{Accept:"application/json","Content-Type":"application/json"}}},{key:"headers",get:function(){return t({},this.defaultHeaders,this.opts.serverHeaders||{})}}]),o}();
},{}],"pkYR":[function(require,module,exports) {
"use strict";var t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=require("./RequestClient"),a=function(t){return t.split("-").map(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}).join(" ")};module.exports=function(i){function u(t,e){r(this,u);var o=n(this,i.call(this,t,e));return o.provider=e.provider,o.id=o.provider,o.authProvider=e.authProvider||o.provider,o.name=o.opts.name||a(o.id),o.tokenKey="companion-"+o.id+"-auth-token",o}return o(u,i),u.prototype.setAuthToken=function(t){localStorage.setItem(this.tokenKey,t)},u.prototype.checkAuth=function(){return this.get(this.id+"/authorized").then(function(t){return t.authenticated})},u.prototype.authUrl=function(){return this.hostname+"/"+this.id+"/connect"},u.prototype.fileUrl=function(t){return this.hostname+"/"+this.id+"/get/"+t},u.prototype.list=function(t){return this.get(this.id+"/list/"+(t||""))},u.prototype.logout=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.href;return this.get(this.id+"/logout?redirect="+e).then(function(e){return localStorage.removeItem(t.tokenKey),e})},u.initPlugin=function(e,r,n){if(e.type="acquirer",e.files=[],n&&(e.opts=t({},n,r)),r.serverPattern){var o=r.serverPattern;if(!("string"==typeof o||Array.isArray(o)||o instanceof RegExp))throw new TypeError(e.id+': the option "serverPattern" must be one of string, Array, RegExp');e.opts.serverPattern=o}else/^(?!https?:\/\/).*$/.test(r.serverUrl)?e.opts.serverPattern=location.protocol+"//"+r.serverUrl.replace(/^\/\//,""):e.opts.serverPattern=r.serverUrl},e(u,[{key:"defaultHeaders",get:function(){return t({},i.prototype.defaultHeaders,{"uppy-auth-token":localStorage.getItem(this.tokenKey)})}}]),u}(i);
},{"./RequestClient":"0RVx"}],"yJ1c":[function(require,module,exports) {
function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var e=require("namespace-emitter");module.exports=function(){function i(s){var n=this;t(this,i),this.queued=[],this.isOpen=!1,this.socket=new WebSocket(s.target),this.emitter=e(),this.socket.onopen=function(t){for(n.isOpen=!0;n.queued.length>0&&n.isOpen;){var e=n.queued[0];n.send(e.action,e.payload),n.queued=n.queued.slice(1)}},this.socket.onclose=function(t){n.isOpen=!1},this._handleMessage=this._handleMessage.bind(this),this.socket.onmessage=this._handleMessage,this.close=this.close.bind(this),this.emit=this.emit.bind(this),this.on=this.on.bind(this),this.once=this.once.bind(this),this.send=this.send.bind(this)}return i.prototype.close=function(){return this.socket.close()},i.prototype.send=function(t,e){this.isOpen?this.socket.send(JSON.stringify({action:t,payload:e})):this.queued.push({action:t,payload:e})},i.prototype.on=function(t,e){this.emitter.on(t,e)},i.prototype.emit=function(t,e){this.emitter.emit(t,e)},i.prototype.once=function(t,e){this.emitter.once(t,e)},i.prototype._handleMessage=function(t){try{var e=JSON.parse(t.data);this.emit(e.action,e.payload)}catch(i){console.log(i)}},i}();
},{"namespace-emitter":"ZwW2"}],"x99k":[function(require,module,exports) {
var e=require("./RequestClient"),r=require("./Provider"),i=require("./Socket");module.exports={RequestClient:e,Provider:r,Socket:i};
},{"./RequestClient":"0RVx","./Provider":"pkYR","./Socket":"yJ1c"}],"pEco":[function(require,module,exports) {
var e=require("lodash.throttle");function o(e,o,r){var l=o.progress,p=o.bytesUploaded,t=o.bytesTotal;l&&(e.uppy.log("Upload progress: "+l),e.uppy.emit("upload-progress",r,{uploader:e,bytesUploaded:p,bytesTotal:t}))}module.exports=e(o,300,{leading:!0,trailing:!0});
},{"lodash.throttle":"RgI1"}],"tz7r":[function(require,module,exports) {
module.exports=function(t){var o=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/.exec(t)[1];return("https:"===location.protocol?"wss":"ws")+"://"+o};
},{}],"pci1":[function(require,module,exports) {
module.exports=function(n){var u=[],t=[];function e(n){u.push(n)}function r(n){t.push(n)}return Promise.all(n.map(function(n){return n.then(e,r)})).then(function(){return{successful:u,failed:t}})};
},{}],"1Pp+":[function(require,module,exports) {
module.exports=function(n){var r=0,t=[];return function(o){return function(){for(var e=arguments.length,i=Array(e),f=0;f<e;f++)i[f]=arguments[f];var a=function(){r++;var n=o.apply(void 0,i);return n.then(u,u),n};return r>=n?new Promise(function(n,r){t.push(function(){a().then(n,r)})}):a()}};function u(){r--;var n=t.shift();n&&n()}};
},{}],"X84G":[function(require,module,exports) {
var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e};function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=require("@uppy/core"),u=n.Plugin,s=require("tus-js-client"),i=require("@uppy/companion-client"),p=i.Provider,l=i.RequestClient,a=i.Socket,d=require("@uppy/utils/lib/emitSocketProgress"),c=require("@uppy/utils/lib/getSocketHost"),f=require("@uppy/utils/lib/settle"),y=require("@uppy/utils/lib/limitPromises"),h={endpoint:"",resume:!0,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,headers:{},chunkSize:1/0,withCredentials:!1,uploadUrl:null,uploadSize:null,overridePatchMethod:!1,retryDelays:null};function m(e){var t=[];return{on:function(o,r){return t.push([o,r]),e.on(o,r)},remove:function(){t.forEach(function(t){var o=t[0],r=t[1];e.off(o,r)})}}}module.exports=function(n){function u(r,s){t(this,u);var i=o(this,n.call(this,r,s));i.type="uploader",i.id="Tus",i.title="Tus";return i.opts=e({},{resume:!0,autoRetry:!0,useFastRemoteRetry:!0,limit:0,retryDelays:[0,1e3,3e3,5e3]},s),"number"==typeof i.opts.limit&&0!==i.opts.limit?i.limitUploads=y(i.opts.limit):i.limitUploads=function(e){return e},i.uploaders=Object.create(null),i.uploaderEvents=Object.create(null),i.uploaderSockets=Object.create(null),i.handleResetProgress=i.handleResetProgress.bind(i),i.handleUpload=i.handleUpload.bind(i),i}return r(u,n),u.prototype.handleResetProgress=function(){var t=e({},this.uppy.getState().files);Object.keys(t).forEach(function(o){if(t[o].tus&&t[o].tus.uploadUrl){var r=e({},t[o].tus);delete r.uploadUrl,t[o]=e({},t[o],{tus:r})}}),this.uppy.setState({files:t})},u.prototype.resetUploaderReferences=function(e){this.uploaders[e]&&(this.uploaders[e].abort(),this.uploaders[e]=null),this.uploaderEvents[e]&&(this.uploaderEvents[e].remove(),this.uploaderEvents[e]=null),this.uploaderSockets[e]&&(this.uploaderSockets[e].close(),this.uploaderSockets[e]=null)},u.prototype.upload=function(t,o,r){var n=this;return this.resetUploaderReferences(t.id),new Promise(function(o,r){var u=e({},h,n.opts,t.tus||{});u.onError=function(e){n.uppy.log(e),n.uppy.emit("upload-error",t,e),e.message="Failed because: "+e.message,n.resetUploaderReferences(t.id),r(e)},u.onProgress=function(e,o){n.onReceiveUploadUrl(t,l.url),n.uppy.emit("upload-progress",t,{uploader:n,bytesUploaded:e,bytesTotal:o})},u.onSuccess=function(){n.uppy.emit("upload-success",t,l,l.url),l.url&&n.uppy.log("Download "+l.file.name+" from "+l.url),n.resetUploaderReferences(t.id),o(l)};var i=function(e,t,o){Object.prototype.hasOwnProperty.call(e,t)&&!Object.prototype.hasOwnProperty.call(e,o)&&(e[o]=e[t])},p=e({},t.meta);i(p,"type","filetype"),i(p,"name","filename"),u.metadata=p;var l=new s.Upload(t.data,u);n.uploaders[t.id]=l,n.uploaderEvents[t.id]=m(n.uppy),n.onFileRemove(t.id,function(e){n.resetUploaderReferences(t.id),o("upload "+e+" was removed")}),n.onPause(t.id,function(e){e?l.abort():l.start()}),n.onPauseAll(t.id,function(){l.abort()}),n.onCancelAll(t.id,function(){n.resetUploaderReferences(t.id)}),n.onResumeAll(t.id,function(){t.error&&l.abort(),l.start()}),t.isPaused||l.start()})},u.prototype.uploadRemote=function(t,o,r){var n=this;this.resetUploaderReferences(t.id);var u=e({},this.opts,t.tus||{});return new Promise(function(o,r){if(n.uppy.log(t.remote.url),t.serverToken)return n.connectToServerSocket(t).then(function(){return o()}).catch(r);n.uppy.emit("upload-started",t),new(t.remote.providerOptions.provider?p:l)(n.uppy,t.remote.providerOptions).post(t.remote.url,e({},t.remote.body,{endpoint:u.endpoint,uploadUrl:u.uploadUrl,protocol:"tus",size:t.data.size,metadata:t.meta})).then(function(e){return n.uppy.setFileState(t.id,{serverToken:e.token}),t=n.uppy.getFile(t.id)}).then(function(e){return n.connectToServerSocket(e)}).then(function(){o()}).catch(function(e){r(new Error(e))})})},u.prototype.connectToServerSocket=function(t){var o=this;return new Promise(function(r,n){var u=t.serverToken,s=c(t.remote.serverUrl),i=new a({target:s+"/api/"+u});o.uploaderSockets[t.id]=i,o.uploaderEvents[t.id]=m(o.uppy),o.onFileRemove(t.id,function(){i.send("pause",{}),r("upload "+t.id+" was removed")}),o.onPause(t.id,function(e){e?i.send("pause",{}):i.send("resume",{})}),o.onPauseAll(t.id,function(){return i.send("pause",{})}),o.onCancelAll(t.id,function(){return i.send("pause",{})}),o.onResumeAll(t.id,function(){t.error&&i.send("pause",{}),i.send("resume",{})}),o.onRetry(t.id,function(){i.send("pause",{}),i.send("resume",{})}),o.onRetryAll(t.id,function(){i.send("pause",{}),i.send("resume",{})}),t.isPaused&&i.send("pause",{}),i.on("progress",function(e){return d(o,e,t)}),i.on("error",function(r){var u=r.error.message,s=e(new Error(u),{cause:r.error});o.opts.useFastRemoteRetry||(o.resetUploaderReferences(t.id),o.uppy.setFileState(t.id,{serverToken:null})),o.uppy.emit("upload-error",t,s),n(s)}),i.on("success",function(e){o.uppy.emit("upload-success",t,e,e.url),o.resetUploaderReferences(t.id),r()})})},u.prototype.onReceiveUploadUrl=function(t,o){var r=this.uppy.getFile(t.id);r&&(r.tus&&r.tus.uploadUrl===o||(this.uppy.log("[Tus] Storing upload url"),this.uppy.setFileState(r.id,{tus:e({},r.tus,{uploadUrl:o})})))},u.prototype.onFileRemove=function(e,t){this.uploaderEvents[e].on("file-removed",function(o){e===o.id&&t(o.id)})},u.prototype.onPause=function(e,t){this.uploaderEvents[e].on("upload-pause",function(o,r){e===o&&t(r)})},u.prototype.onRetry=function(e,t){this.uploaderEvents[e].on("upload-retry",function(o){e===o&&t()})},u.prototype.onRetryAll=function(e,t){var o=this;this.uploaderEvents[e].on("retry-all",function(r){o.uppy.getFile(e)&&t()})},u.prototype.onPauseAll=function(e,t){var o=this;this.uploaderEvents[e].on("pause-all",function(){o.uppy.getFile(e)&&t()})},u.prototype.onCancelAll=function(e,t){var o=this;this.uploaderEvents[e].on("cancel-all",function(){o.uppy.getFile(e)&&t()})},u.prototype.onResumeAll=function(e,t){var o=this;this.uploaderEvents[e].on("resume-all",function(){o.uppy.getFile(e)&&t()})},u.prototype.uploadFiles=function(e){var t=this,o=e.map(function(o,r){var n=parseInt(r,10)+1,u=e.length;return o.error?function(){return Promise.reject(new Error(o.error))}:o.isRemote?(t.uppy.emit("upload-started",o),t.uploadRemote.bind(t,o,n,u)):(t.uppy.emit("upload-started",o),t.upload.bind(t,o,n,u))}).map(function(e){return t.limitUploads(e)()});return f(o)},u.prototype.handleUpload=function(e){var t=this;if(0===e.length)return this.uppy.log("Tus: no files to upload!"),Promise.resolve();this.uppy.log("Tus is uploading...");var o=e.map(function(e){return t.uppy.getFile(e)});return this.uploadFiles(o).then(function(){return null})},u.prototype.install=function(){this.uppy.setState({capabilities:e({},this.uppy.getState().capabilities,{resumableUploads:!0})}),this.uppy.addUploader(this.handleUpload),this.uppy.on("reset-progress",this.handleResetProgress),this.opts.autoRetry&&this.uppy.on("back-online",this.uppy.retryAll)},u.prototype.uninstall=function(){this.uppy.setState({capabilities:e({},this.uppy.getState().capabilities,{resumableUploads:!1})}),this.uppy.removeUploader(this.handleUpload),this.opts.autoRetry&&this.uppy.off("back-online",this.uppy.retryAll)},u}(u);
},{"@uppy/core":"Fa4j","tus-js-client":"OLMG","@uppy/companion-client":"x99k","@uppy/utils/lib/emitSocketProgress":"pEco","@uppy/utils/lib/getSocketHost":"tz7r","@uppy/utils/lib/settle":"pci1","@uppy/utils/lib/limitPromises":"1Pp+"}],"xjEe":[function(require,module,exports) {
"use strict";var e=u(require("@uppy/core")),i=u(require("@uppy/dashboard")),l=u(require("@uppy/tus")),r=u(require("@uppy/thumbnail-generator"));function u(e){return e&&e.__esModule?e:{default:e}}var a={init:function(u,a){(0,e.default)({debug:!0,autoProceed:!1,meta:{captureID:a},restrictions:{maxFileSize:2e10,maxNumberOfFiles:999,minNumberOfFiles:1,allowedFileTypes:["image/*","video/*"]}}).use(r.default,{thumbnailWidth:200}).use(i.default,{proudlyDisplayPoweredByUppy:!1,trigger:"#uppy-trigger",showProgressDetails:!0,metaFields:[{id:"name",name:"Name",placeholder:"file name"},{id:"description",name:"Description",placeholder:"describe what the image/video"}]}).use(l.default,{endpoint:"/files/"}).on("complete",function(e){console.log("successful files:",e.successful),console.log("failed files:",e.failed),location.reload()})}};window.uploader=a;
},{"@uppy/core":"Fa4j","@uppy/dashboard":"fMd0","@uppy/tus":"X84G","@uppy/thumbnail-generator":"+9br"}]},{},["xjEe"], null)
//# sourceMappingURL=/uploader.map